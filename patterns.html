<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>模式 - Rust语言参考手册</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon-de23e50b.svg">
        <link rel="shortcut icon" href="favicon-8114d1fc.png">
        <link rel="stylesheet" href="css/variables-8adf115d.css">
        <link rel="stylesheet" href="css/general-2459343d.css">
        <link rel="stylesheet" href="css/chrome-ae938929.css">
        <link rel="stylesheet" href="css/print-9e4910d8.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="fonts/fonts-9644e21d.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="mdbook-highlight-css" href="highlight-493f70e1.css">
        <link rel="stylesheet" id="mdbook-tomorrow-night-css" href="tomorrow-night-4c0ae647.css">
        <link rel="stylesheet" id="mdbook-ayu-highlight-css" href="ayu-highlight-3fdfc3ac.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="theme/reference-ce12791d.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "searchindex-071306fd.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc-b73b2c2b.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="mdbook-body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="mdbook-sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("mdbook-sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="mdbook-sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="mdbook-sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="mdbook-page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="mdbook-menu-bar-hover-placeholder"></div>
                <div id="mdbook-menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="mdbook-sidebar-toggle" class="icon-button" for="mdbook-sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="mdbook-sidebar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg></span>
                        </label>
                        <button id="mdbook-theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="mdbook-theme-list">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M371.3 367.1c27.3-3.9 51.9-19.4 67.2-42.9L600.2 74.1c12.6-19.5 9.4-45.3-7.6-61.2S549.7-4.4 531.1 9.6L294.4 187.2c-24 18-38.2 46.1-38.4 76.1L371.3 367.1zm-19.6 25.4l-116-104.4C175.9 290.3 128 339.6 128 400c0 3.9 .2 7.8 .6 11.6c1.8 17.5-10.2 36.4-27.8 36.4H96c-17.7 0-32 14.3-32 32s14.3 32 32 32H240c61.9 0 112-50.1 112-112c0-2.5-.1-5-.2-7.5z"/></svg></span>
                        </button>
                        <ul id="mdbook-theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-ayu">Ayu</button></li>
                        </ul>
                        <button id="mdbook-search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="mdbook-searchbar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"/></svg></span>
                        </button>
                    </div>

                    <h1 class="menu-title">Rust语言参考手册</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <span class=fa-svg id="print-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M128 0C92.7 0 64 28.7 64 64v96h64V64H354.7L384 93.3V160h64V93.3c0-17-6.7-33.3-18.7-45.3L400 18.7C388 6.7 371.7 0 354.7 0H128zM384 352v32 64H128V384 368 352H384zm64 32h32c17.7 0 32-14.3 32-32V256c0-35.3-28.7-64-64-64H64c-35.3 0-64 28.7-64 64v96c0 17.7 14.3 32 32 32H64v64c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V384zm-16-88c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24z"/></svg></span>
                        </a>
                        <a href="https://github.com/zhiming-wu/rust-reference-zh_cn/" title="Git repository" aria-label="Git repository">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></span>
                        </a>

                    </div>
                </div>

                <div id="mdbook-search-wrapper" class="hidden">
                    <form id="mdbook-searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="mdbook-searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="mdbook-searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <span class=fa-svg id="fa-spin"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M304 48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zm0 416c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM48 304c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm464-48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM142.9 437c18.7-18.7 18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zm0-294.2c18.7-18.7 18.7-49.1 0-67.9S93.7 56.2 75 75s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zM369.1 437c18.7 18.7 49.1 18.7 67.9 0s18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9z"/></svg></span>
                            </div>
                        </div>
                    </form>
                    <div id="mdbook-searchresults-outer" class="searchresults-outer hidden">
                        <div id="mdbook-searchresults-header" class="searchresults-header"></div>
                        <ul id="mdbook-searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('mdbook-sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('mdbook-sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#mdbook-sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="mdbook-content" class="content">
                    <main>
                        <!-- https://github.com/rust-lang/reference/blob/master/src/patterns.md -->
<!-- commit 68bdfd15fa9feebfbf94a06cf574de598e239198 -->
<div class="rule" id="r-patterns"><a class="rule-link" href="#r-patterns" title="patterns"><span>[patterns]</span></a>
</div>

<h1 id="模式"><a class="header" href="#模式">模式</a></h1>
<div class="rule" id="r-patterns.syntax"><a class="rule-link" href="#r-patterns.syntax" title="patterns.syntax"><span>[patterns<wbr>.syntax]</span></a>
</div>

<div class="grammar-container">
<p><strong><sup>Syntax</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-Pattern" onclick="show_railroad()"><a href="patterns.html#railroad-Pattern">Pattern</a></span> → <span class="grammar-literal">|</span><sup>?</sup> <span class="grammar-text"><a href="patterns.html#grammar-PatternNoTopAlt">PatternNoTopAlt</a></span> ( <span class="grammar-literal">|</span> <span class="grammar-text"><a href="patterns.html#grammar-PatternNoTopAlt">PatternNoTopAlt</a></span> )<sup>*</sup></p>
<p><span class="grammar-text grammar-production" id="grammar-PatternNoTopAlt" onclick="show_railroad()"><a href="patterns.html#railroad-PatternNoTopAlt">PatternNoTopAlt</a></span> → <br>      <span class="grammar-text"><a href="patterns.html#grammar-PatternWithoutRange">PatternWithoutRange</a></span> <br>    | <span class="grammar-text"><a href="patterns.html#grammar-RangePattern">RangePattern</a></span></p>
<p><span class="grammar-text grammar-production" id="grammar-PatternWithoutRange" onclick="show_railroad()"><a href="patterns.html#railroad-PatternWithoutRange">PatternWithoutRange</a></span> → <br>      <span class="grammar-text"><a href="patterns.html#grammar-LiteralPattern">LiteralPattern</a></span> <br>    | <span class="grammar-text"><a href="patterns.html#grammar-IdentifierPattern">IdentifierPattern</a></span> <br>    | <span class="grammar-text"><a href="patterns.html#grammar-WildcardPattern">WildcardPattern</a></span> <br>    | <span class="grammar-text"><a href="patterns.html#grammar-RestPattern">RestPattern</a></span> <br>    | <span class="grammar-text"><a href="patterns.html#grammar-ReferencePattern">ReferencePattern</a></span> <br>    | <span class="grammar-text"><a href="patterns.html#grammar-StructPattern">StructPattern</a></span> <br>    | <span class="grammar-text"><a href="patterns.html#grammar-TupleStructPattern">TupleStructPattern</a></span> <br>    | <span class="grammar-text"><a href="patterns.html#grammar-TuplePattern">TuplePattern</a></span> <br>    | <span class="grammar-text"><a href="patterns.html#grammar-GroupedPattern">GroupedPattern</a></span> <br>    | <span class="grammar-text"><a href="patterns.html#grammar-SlicePattern">SlicePattern</a></span> <br>    | <span class="grammar-text"><a href="patterns.html#grammar-PathPattern">PathPattern</a></span> <br>    | <span class="grammar-text"><a href="macros.html#grammar-MacroInvocation">MacroInvocation</a></span></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>

<div class="grammar-railroad grammar-hidden">
<div style="width: 556px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-Pattern"><svg class="railroad" viewbox="0 0 556 100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-Pattern">
<text class="comment" x="39" y="25">
Pattern</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="sequence">
<g class="optional">
<path d=" M 35 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 28 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="55" />
<text x="73" y="71">
|</text>
</g>
</g>
<a class="link" xlink:href="patterns.html#railroad-PatternNoTopAlt">
<g class="nonterminal">
<rect height="22" width="140" x="121" y="55" />
<text x="191" y="71">
PatternNoTopAlt</text>
</g>
</a>
<g class="optional">
<path d=" M 271 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 202 m -98 0 l -5 -5 m 0 10 l 5 -5 m 98 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<g class="repeat">
<path d=" M 295 66 h 12 m 178 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -178 m 92 0 l 5 -5 m 0 10 l -5 -5 m -92 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12" />
<g />
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="307" y="55" />
<text x="321" y="71">
|</text>
</g>
<a class="link" xlink:href="patterns.html#railroad-PatternNoTopAlt">
<g class="nonterminal">
<rect height="22" width="140" x="345" y="55" />
<text x="415" y="71">
PatternNoTopAlt</text>
</g>
</a>
<path d=" M 335 66 h 10" />
</g>
</g>
</g>
<path d=" M 111 66 h 10" />
<path d=" M 261 66 h 10" />
</g>
<path d=" M 531 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 66 h 10" />
<path d=" M 521 66 h 10" />
</g>
</g>
</svg>
</div>

<div style="width: 290px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-PatternNoTopAlt"><svg class="railroad" viewbox="0 0 290 107" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-PatternNoTopAlt">
<text class="comment" x="67" y="25">
PatternNoTopAlt</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="choice">
<path d=" M 35 53 h 24 m 172 0 h 24" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-PatternWithoutRange">
<g class="nonterminal">
<rect height="22" width="172" x="59" y="42" />
<text x="145" y="58">
PatternWithoutRange</text>
</g>
</a>
</g>
<path d=" M 35 53 a 12 12 0 0 1 12 12 v 9 m 196 0 v -9 a 12 12 0 0 1 12 -12" />
<path d=" M 47 74 v 0 a 12 12 0 0 0 12 12 m 116 0 h 56 m -25 0 l -5 -5 m 0 10 l 5 -5 m 25 0 a 12 12 0 0 0 12 -12 v 0" />
<a class="link" xlink:href="patterns.html#railroad-RangePattern">
<g class="nonterminal">
<rect height="22" width="116" x="59" y="75" />
<text x="117" y="91">
RangePattern</text>
</g>
</a>
</g>
<path d=" M 265 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 53 h 10" />
<path d=" M 255 53 h 10" />
</g>
</g>
</svg>
</div>

<div style="width: 282px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-PatternWithoutRange"><svg class="railroad" viewbox="0 0 282 437" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-PatternWithoutRange">
<text class="comment" x="81" y="25">
PatternWithoutRange</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="choice">
<path d=" M 35 53 h 24 m 132 0 h 56 m -25 0 l -5 -5 m 0 10 l 5 -5 m 25 0" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-LiteralPattern">
<g class="nonterminal">
<rect height="22" width="132" x="59" y="42" />
<text x="125" y="58">
LiteralPattern</text>
</g>
</a>
</g>
<path d=" M 35 53 a 12 12 0 0 1 12 12 v 9 m 188 0 v -9 a 12 12 0 0 1 12 -12" />
<path d=" M 47 74 v 33 m 188 0 v -33" />
<path d=" M 47 107 v 33 m 188 0 v -33" />
<path d=" M 47 140 v 33 m 188 0 v -33" />
<path d=" M 47 173 v 33 m 188 0 v -33" />
<path d=" M 47 206 v 33 m 188 0 v -33" />
<path d=" M 47 239 v 33 m 188 0 v -33" />
<path d=" M 47 272 v 33 m 188 0 v -33" />
<path d=" M 47 305 v 33 m 188 0 v -33" />
<path d=" M 47 338 v 33 m 188 0 v -33" />
<path d=" M 47 371 v 33 m 188 0 v -33" />
<path d=" M 47 74 v 0 a 12 12 0 0 0 12 12 m 156 0 h 8 a 12 12 0 0 0 12 -12 v 0" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-IdentifierPattern">
<g class="nonterminal">
<rect height="22" width="156" x="59" y="75" />
<text x="137" y="91">
IdentifierPattern</text>
</g>
</a>
</g>
<path d=" M 47 107 v 0 a 12 12 0 0 0 12 12 m 140 0 h 24 a 12 12 0 0 0 12 -12 v 0" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-WildcardPattern">
<g class="nonterminal">
<rect height="22" width="140" x="59" y="108" />
<text x="129" y="124">
WildcardPattern</text>
</g>
</a>
</g>
<path d=" M 47 140 v 0 a 12 12 0 0 0 12 12 m 108 0 h 56 m -25 0 l -5 -5 m 0 10 l 5 -5 m 25 0 a 12 12 0 0 0 12 -12 v 0" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-RestPattern">
<g class="nonterminal">
<rect height="22" width="108" x="59" y="141" />
<text x="113" y="157">
RestPattern</text>
</g>
</a>
</g>
<path d=" M 47 173 v 0 a 12 12 0 0 0 12 12 m 148 0 h 16 a 12 12 0 0 0 12 -12 v 0" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-ReferencePattern">
<g class="nonterminal">
<rect height="22" width="148" x="59" y="174" />
<text x="133" y="190">
ReferencePattern</text>
</g>
</a>
</g>
<path d=" M 47 206 v 0 a 12 12 0 0 0 12 12 m 124 0 h 40 a 12 12 0 0 0 12 -12 v 0" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-StructPattern">
<g class="nonterminal">
<rect height="22" width="124" x="59" y="207" />
<text x="121" y="223">
StructPattern</text>
</g>
</a>
</g>
<path d=" M 47 239 v 0 a 12 12 0 0 0 12 12 m 164 0 h 0 a 12 12 0 0 0 12 -12 v 0" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-TupleStructPattern">
<g class="nonterminal">
<rect height="22" width="164" x="59" y="240" />
<text x="141" y="256">
TupleStructPattern</text>
</g>
</a>
</g>
<path d=" M 47 272 v 0 a 12 12 0 0 0 12 12 m 116 0 h 48 a 12 12 0 0 0 12 -12 v 0" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-TuplePattern">
<g class="nonterminal">
<rect height="22" width="116" x="59" y="273" />
<text x="117" y="289">
TuplePattern</text>
</g>
</a>
</g>
<path d=" M 47 305 v 0 a 12 12 0 0 0 12 12 m 132 0 h 32 a 12 12 0 0 0 12 -12 v 0" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-GroupedPattern">
<g class="nonterminal">
<rect height="22" width="132" x="59" y="306" />
<text x="125" y="322">
GroupedPattern</text>
</g>
</a>
</g>
<path d=" M 47 338 v 0 a 12 12 0 0 0 12 12 m 116 0 h 48 a 12 12 0 0 0 12 -12 v 0" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-SlicePattern">
<g class="nonterminal">
<rect height="22" width="116" x="59" y="339" />
<text x="117" y="355">
SlicePattern</text>
</g>
</a>
</g>
<path d=" M 47 371 v 0 a 12 12 0 0 0 12 12 m 108 0 h 56 m -25 0 l -5 -5 m 0 10 l 5 -5 m 25 0 a 12 12 0 0 0 12 -12 v 0" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-PathPattern">
<g class="nonterminal">
<rect height="22" width="108" x="59" y="372" />
<text x="113" y="388">
PathPattern</text>
</g>
</a>
</g>
<path d=" M 47 404 v 0 a 12 12 0 0 0 12 12 m 140 0 h 24 a 12 12 0 0 0 12 -12 v 0" />
<a class="link" xlink:href="macros.html#railroad-MacroInvocation">
<g class="nonterminal">
<rect height="22" width="140" x="59" y="405" />
<text x="129" y="421">
MacroInvocation</text>
</g>
</a>
</g>
<path d=" M 257 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 53 h 10" />
<path d=" M 247 53 h 10" />
</g>
</g>
</svg>
</div>

</div>

<div class="rule" id="r-patterns.intro"><a class="rule-link" href="#r-patterns.intro" title="patterns.intro"><span>[patterns<wbr>.intro]</span></a>
</div>

<p>模式用于根据结构匹配值，并可选地将变量绑定到这些结构内部的值。
它们也用于变量声明以及函数和闭包的参数。</p>
<p>下面示例中的模式做了四件事：</p>
<ul>
<li>测试 <code>person</code> 是否有名为 <code>car</code> 的字段且填充了内容。</li>
<li>测试该人的 <code>age</code> 字段是否在 13 到 19 之间，并将其值绑定到 <code>person_age</code> 变量。</li>
<li>将指向 <code>name</code> 字段的引用绑定到变量 <code>person_name</code>。</li>
<li>忽略 <code>person</code> 的其余字段。
其余字段可以具有任何值，且不绑定到任何变量。</li>
</ul>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">struct Car;
</span><span class="boring">struct Computer;
</span><span class="boring">struct Person {
</span><span class="boring">    name: String,
</span><span class="boring">    car: Option&lt;Car&gt;,
</span><span class="boring">    computer: Option&lt;Computer&gt;,
</span><span class="boring">    age: u8,
</span><span class="boring">}
</span><span class="boring">let person = Person {
</span><span class="boring">    name: String::from("John"),
</span><span class="boring">    car: Some(Car),
</span><span class="boring">    computer: None,
</span><span class="boring">    age: 15,
</span><span class="boring">};
</span>if let
    Person {
        car: Some(_),
        age: person_age @ 13..=19,
        name: ref person_name,
        ..
    } = person
{
    println!("{} has a car and is {} years old.", person_name, person_age);
}
<span class="boring">}</span></code></pre>
<div class="rule" id="r-patterns.usage"><a class="rule-link" href="#r-patterns.usage" title="patterns.usage"><span>[patterns<wbr>.usage]</span></a>
</div>

<p>模式用于：</p>
<div class="rule" id="r-patterns.let"><a class="rule-link" href="#r-patterns.let" title="patterns.let"><span>[patterns<wbr>.let]</span></a>
</div>

<ul>
<li><a href="statements.html#let语句"><code>let</code> 声明</a></li>
</ul>
<div class="rule" id="r-patterns.param"><a class="rule-link" href="#r-patterns.param" title="patterns.param"><span>[patterns<wbr>.param]</span></a>
</div>

<ul>
<li><a href="items/functions.html">函数</a> 和 <a href="expressions/closure-expr.html">闭包</a> 参数</li>
</ul>
<div class="rule" id="r-patterns.match"><a class="rule-link" href="#r-patterns.match" title="patterns.match"><span>[patterns<wbr>.match]</span></a>
</div>

<ul>
<li><a href="expressions/match-expr.html"><code>match</code> 表达式</a></li>
</ul>
<div class="rule" id="r-patterns.if-let"><a class="rule-link" href="#r-patterns.if-let" title="patterns.if-let"><span>[patterns<wbr>.if-let]</span></a>
</div>

<ul>
<li><a href="expressions/if-expr.html"><code>if let</code> 表达式</a></li>
</ul>
<div class="rule" id="r-patterns.while-let"><a class="rule-link" href="#r-patterns.while-let" title="patterns.while-let"><span>[patterns<wbr>.while-let]</span></a>
</div>

<ul>
<li><a href="expressions/loop-expr.html#while-let模式"><code>while let</code> 表达式</a></li>
</ul>
<div class="rule" id="r-patterns.for"><a class="rule-link" href="#r-patterns.for" title="patterns.for"><span>[patterns<wbr>.for]</span></a>
</div>

<ul>
<li><a href="expressions/loop-expr.html#迭代器循环"><code>for</code> 表达式</a></li>
</ul>
<div class="rule" id="r-patterns.destructure"><a class="rule-link" href="#r-patterns.destructure" title="patterns.destructure"><span>[patterns<wbr>.destructure]</span></a>
</div>

<h2 id="解构"><a class="header" href="#解构">解构</a></h2>
<div class="rule" id="r-patterns.destructure.intro"><a class="rule-link" href="#r-patterns.destructure.intro" title="patterns.destructure.intro"><span>[patterns<wbr>.destructure<wbr>.intro]</span></a>
</div>

<p>模式可以用来 <em>解构</em> <a href="items/structs.html">结构体</a> 、 <a href="items/enumerations.html">枚举</a> 和 <a href="types/tuple.html">元组</a> 。
解构将一个值分解为其组成部分。
使用的 语法格式 与创建此类值时几乎相同。</p>
<div class="rule" id="r-patterns.destructure.wildcard"><a class="rule-link" href="#r-patterns.destructure.wildcard" title="patterns.destructure.wildcard"><span>[patterns<wbr>.destructure<wbr>.wildcard]</span></a>
</div>

<p>在 <a href="glossary.html#审查值">被匹配</a> 表达式具有 结构体 、 枚举 或 元组 类型的模式中， <a href="#wildcard-pattern">通配符模式</a> (<code>_</code>) 代表 <em>单个</em> 数据字段，而 <a href="#grammar-StructPatternEtCetera">等等</a> 或 <a href="patterns.html#r-patterns.rest">剩余模式</a> (<code>..</code>) 代表特定变体的 <em>所有</em> 剩余字段。</p>
<div class="rule" id="r-patterns.destructure.named-field-shorthand"><a class="rule-link" href="#r-patterns.destructure.named-field-shorthand" title="patterns.destructure.named-field-shorthand"><span>[patterns<wbr>.destructure<wbr>.named-field-shorthand]</span></a>
</div>

<p>当解构具有命名（但未编号）字段的数据结构时，允许将 <code>fieldname</code> 简写为 <code>fieldname: fieldname</code> 。</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">enum Message {
</span><span class="boring">    Quit,
</span><span class="boring">    WriteString(String),
</span><span class="boring">    Move { x: i32, y: i32 },
</span><span class="boring">    ChangeColor(u8, u8, u8),
</span><span class="boring">}
</span><span class="boring">let message = Message::Quit;
</span>match message {
    Message::Quit =&gt; println!("Quit"),
    Message::WriteString(write) =&gt; println!("{}", &amp;write),
    Message::Move{ x, y: 0 } =&gt; println!("move {} horizontally", x),
    Message::Move{ .. } =&gt; println!("other move"),
    Message::ChangeColor { 0: red, 1: green, 2: _ } =&gt; {
        println!("color change, red: {}, green: {}", red, green);
    }
};
<span class="boring">}</span></code></pre>
<div class="rule" id="r-patterns.refutable"><a class="rule-link" href="#r-patterns.refutable" title="patterns.refutable"><span>[patterns<wbr>.refutable]</span></a>
</div>

<h2 id="可反驳性"><a class="header" href="#可反驳性">可反驳性</a></h2>
<p>当一个模式有可能不与其匹配的值相匹配时，该模式被称为是 <em>可反驳的</em> 。
另一方面， <em>不可反驳的</em> 模式总是匹配它们所针对的值。
示例：</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let (x, y) = (1, 2);               // "(x, y)" 是一个不可反驳的模式

if let (a, 3) = (1, 2) {           // "(a, 3)" 是可反驳的，且不会匹配
    panic!("Shouldn't reach here");
} else if let (a, 4) = (3, 4) {    // "(a, 4)" 是可反驳的，且会匹配
    println!("Matched ({}, 4)", a);
}
<span class="boring">}</span></code></pre>
<div class="rule" id="r-patterns.literal"><a class="rule-link" href="#r-patterns.literal" title="patterns.literal"><span>[patterns<wbr>.literal]</span></a>
</div>

<h2 id="字面量模式"><a class="header" href="#字面量模式">字面量模式</a></h2>
<div class="rule" id="r-patterns.literal.syntax"><a class="rule-link" href="#r-patterns.literal.syntax" title="patterns.literal.syntax"><span>[patterns<wbr>.literal<wbr>.syntax]</span></a>
</div>

<div class="grammar-container">
<p><strong><sup>Syntax</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-LiteralPattern" onclick="show_railroad()"><a href="patterns.html#railroad-LiteralPattern">LiteralPattern</a></span> → <span class="grammar-literal">-</span><sup>?</sup> <span class="grammar-text"><a href="expressions/literal-expr.html#grammar-LiteralExpression">LiteralExpression</a></span></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>

<div class="grammar-railroad grammar-hidden">
<div style="width: 312px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-LiteralPattern"><svg class="railroad" viewbox="0 0 312 87" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-LiteralPattern">
<text class="comment" x="64" y="25">
LiteralPattern</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="sequence">
<g class="optional">
<path d=" M 35 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 28 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="55" />
<text x="73" y="71">
-</text>
</g>
</g>
<a class="link" xlink:href="expressions/literal-expr.html#railroad-LiteralExpression">
<g class="nonterminal">
<rect height="22" width="156" x="121" y="55" />
<text x="199" y="71">
LiteralExpression</text>
</g>
</a>
<path d=" M 111 66 h 10" />
</g>
<path d=" M 287 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 66 h 10" />
<path d=" M 277 66 h 10" />
</g>
</g>
</svg>
</div>

</div>

<div class="rule" id="r-patterns.literal.intro"><a class="rule-link" href="#r-patterns.literal.intro" title="patterns.literal.intro"><span>[patterns<wbr>.literal<wbr>.intro]</span></a>
</div>

<p><em>字面量模式</em> 匹配的值与字面量创建的值完全相同。由于负数不是 <a href="expressions/literal-expr.html">字面量</a> ，模式中的字面量可以前缀一个可选的减号，其作用类似于取反运算符。</p>
<div class="alert alert-warning">
<blockquote>
<p class="alert-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path></svg>警告</p>

<p>C string and raw C string literals are accepted in literal patterns, but <code>&amp;CStr</code> doesn’t implement structural equality (<code>#[derive(Eq, PartialEq)]</code>) and therefore any such <code>match</code> on a <code>&amp;CStr</code> will be rejected with a type error.</p>
</blockquote>
</div>

<div class="rule" id="r-patterns.literal.refutable"><a class="rule-link" href="#r-patterns.literal.refutable" title="patterns.literal.refutable"><span>[patterns<wbr>.literal<wbr>.refutable]</span></a>
</div>

<p>字面量模式始终是可反驳的。</p>
<p>示例：</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>for i in -2..5 {
    match i {
        -1 =&gt; println!("It's minus one"),
        1 =&gt; println!("It's a one"),
        2|4 =&gt; println!("It's either a two or a four"),
        _ =&gt; println!("Matched none of the arms"),
    }
}
<span class="boring">}</span></code></pre>
<div class="rule" id="r-patterns.ident"><a class="rule-link" href="#r-patterns.ident" title="patterns.ident"><span>[patterns<wbr>.ident]</span></a>
</div>

<h2 id="标识符模式"><a class="header" href="#标识符模式">标识符模式</a></h2>
<div class="rule" id="r-patterns.ident.syntax"><a class="rule-link" href="#r-patterns.ident.syntax" title="patterns.ident.syntax"><span>[patterns<wbr>.ident<wbr>.syntax]</span></a>
</div>

<div class="grammar-container">
<p><strong><sup>Syntax</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-IdentifierPattern" onclick="show_railroad()"><a href="patterns.html#railroad-IdentifierPattern">IdentifierPattern</a></span> → <span class="grammar-literal">ref</span><sup>?</sup> <span class="grammar-literal">mut</span><sup>?</sup> <span class="grammar-text"><a href="identifiers.html#grammar-IDENTIFIER">IDENTIFIER</a></span> ( <span class="grammar-literal">@</span> <span class="grammar-text"><a href="patterns.html#grammar-PatternNoTopAlt">PatternNoTopAlt</a></span> )<sup>?</sup></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>

<div class="grammar-railroad grammar-hidden">
<div style="width: 610px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-IdentifierPattern"><svg class="railroad" viewbox="0 0 610 87" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-IdentifierPattern">
<text class="comment" x="74" y="25">
IdentifierPattern</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="sequence">
<g class="optional">
<path d=" M 35 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 44 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="59" y="55" />
<text x="81" y="71">
ref</text>
</g>
</g>
<g class="optional">
<path d=" M 137 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 44 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="161" y="55" />
<text x="183" y="71">
mut</text>
</g>
</g>
<a class="link" xlink:href="identifiers.html#railroad-IDENTIFIER">
<g class="nonterminal">
<rect height="22" width="100" x="239" y="55" />
<text x="289" y="71">
IDENTIFIER</text>
</g>
</a>
<g class="optional">
<path d=" M 349 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 178 m -86 0 l -5 -5 m 0 10 l 5 -5 m 86 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="373" y="55" />
<text x="387" y="71">
@</text>
</g>
<a class="link" xlink:href="patterns.html#railroad-PatternNoTopAlt">
<g class="nonterminal">
<rect height="22" width="140" x="411" y="55" />
<text x="481" y="71">
PatternNoTopAlt</text>
</g>
</a>
<path d=" M 401 66 h 10" />
</g>
</g>
<path d=" M 127 66 h 10" />
<path d=" M 229 66 h 10" />
<path d=" M 339 66 h 10" />
</g>
<path d=" M 585 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 66 h 10" />
<path d=" M 575 66 h 10" />
</g>
</g>
</svg>
</div>

</div>

<div class="rule" id="r-patterns.ident.intro"><a class="rule-link" href="#r-patterns.ident.intro" title="patterns.ident.intro"><span>[patterns<wbr>.ident<wbr>.intro]</span></a>
</div>

<p>标识符模式将它们匹配的值绑定到 <a href="names/namespaces.html#r-names.namespaces.kinds">值命名空间</a> 中的变量。</p>
<div class="rule" id="r-patterns.ident.unique"><a class="rule-link" href="#r-patterns.ident.unique" title="patterns.ident.unique"><span>[patterns<wbr>.ident<wbr>.unique]</span></a>
</div>

<p>标识符在模式中必须是唯一的。</p>
<div class="rule" id="r-patterns.ident.scope"><a class="rule-link" href="#r-patterns.ident.scope" title="patterns.ident.scope"><span>[patterns<wbr>.ident<wbr>.scope]</span></a>
</div>

<p>该变量将遮蔽作用域中同名的任何变量。
新绑定的 <a href="names/scopes.html">作用域</a> 取决于使用模式的上下文（例如 <code>let</code> 绑定或 <code>match</code> 臂）。</p>
<div class="rule" id="r-patterns.ident.bare"><a class="rule-link" href="#r-patterns.ident.bare" title="patterns.ident.bare"><span>[patterns<wbr>.ident<wbr>.bare]</span></a>
</div>

<p>仅由标识符（可能带有 <code>mut</code> ）组成的模式匹配任何值并将其绑定到该标识符。
这是变量声明以及函数和闭包参数中最常用的模式。</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let mut variable = 10;
fn sum(x: i32, y: i32) -&gt; i32 {
<span class="boring">   x + y
</span><span class="boring">}
</span><span class="boring">}</span></code></pre>
<div class="rule" id="r-patterns.ident.scrutinized"><a class="rule-link" href="#r-patterns.ident.scrutinized" title="patterns.ident.scrutinized"><span>[patterns<wbr>.ident<wbr>.scrutinized]</span></a>
</div>

<p>要将模式匹配的值绑定到变量，请使用 <code>variable @ subpattern</code> 语法格式。
例如，下面将值 2 绑定到 <code>e</code> （不是整个范围：这里的范围是一个范围子模式）。</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let x = 2;

match x {
    e @ 1 ..= 5 =&gt; println!("got a range element {}", e),
    _ =&gt; println!("anything"),
}
<span class="boring">}</span></code></pre>
<div class="rule" id="r-patterns.ident.move"><a class="rule-link" href="#r-patterns.ident.move" title="patterns.ident.move"><span>[patterns<wbr>.ident<wbr>.move]</span></a>
</div>

<p>默认情况下，标识符模式根据被匹配值是否实现了 <a href="https://doc.rust-lang.org/core/marker/trait.Copy.html">Copy</a> ，将变量绑定到被匹配值的副本或从中移动。</p>
<div class="rule" id="r-patterns.ident.ref"><a class="rule-link" href="#r-patterns.ident.ref" title="patterns.ident.ref"><span>[patterns<wbr>.ident<wbr>.ref]</span></a>
</div>

<p>这可以通过使用 <code>ref</code> 关键字更改为绑定到引用，或者使用 <code>ref mut</code> 更改为可变引用。例如：</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">let a = Some(10);
</span>match a {
    None =&gt; (),
    Some(value) =&gt; (),
}

match a {
    None =&gt; (),
    Some(ref value) =&gt; (),
}
<span class="boring">}</span></code></pre>
<p>在第一个 match 表达式中，值被复制（或移动）。
在第二个 match 中，指向相同内存位置的引用被绑定到变量值。
需要此语法格式是因为在解构子模式中， <code>&amp;</code> 运算符不能应用于值的字段。
例如，以下内容无效：</p>
<pre class="playground"><code class="language-rust compile_fail edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">struct Person {
</span><span class="boring">   name: String,
</span><span class="boring">   age: u8,
</span><span class="boring">}
</span><span class="boring">let value = Person { name: String::from("John"), age: 23 };
</span>if let Person { name: &amp;person_name, age: 18..=150 } = value { }
<span class="boring">}</span></code></pre>
<p>为了使其有效，请编写以下内容：</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">struct Person {
</span><span class="boring">   name: String,
</span><span class="boring">   age: u8,
</span><span class="boring">}
</span><span class="boring">let value = Person { name: String::from("John"), age: 23 };
</span>if let Person { name: ref person_name, age: 18..=150 } = value { }
<span class="boring">}</span></code></pre>
<div class="rule" id="r-patterns.ident.ref-ignored"><a class="rule-link" href="#r-patterns.ident.ref-ignored" title="patterns.ident.ref-ignored"><span>[patterns<wbr>.ident<wbr>.ref-ignored]</span></a>
</div>

<p>因此， <code>ref</code> 不是被匹配的对象。
它的目的完全是为了使匹配的绑定成为引用，而不是潜在地复制或移动匹配的内容。</p>
<div class="rule" id="r-patterns.ident.precedent"><a class="rule-link" href="#r-patterns.ident.precedent" title="patterns.ident.precedent"><span>[patterns<wbr>.ident<wbr>.precedent]</span></a>
</div>

<p><a href="#path-patterns">路径模式</a> 优先于标识符模式。</p>
<div class="alert alert-note">
<blockquote>
<p class="alert-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>注意</p>

<p>When a pattern is a single-segment identifier, the grammar is ambiguous whether it means an <a href="patterns.html#grammar-IdentifierPattern">IdentifierPattern</a> or a <a href="patterns.html#grammar-PathPattern">PathPattern</a>. This ambiguity can only be resolved after <a href="names/name-resolution.html">name resolution</a>.</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>const EXPECTED_VALUE: u8 = 42;
//    ^^^^^^^^^^^^^^ 此常量在作用域内会影响下面模式的处理方式。
//                   patterns below are treated.

fn check_value(x: u8) -&gt; Result&lt;u8, u8&gt; {
    match x {
        EXPECTED_VALUE =&gt; Ok(x),
    //  ^^^^^^^^^^^^^^ 被解析为解析为常量 `42` 的 `PathPattern` 。
    //                 the constant `42`.
        other_value =&gt; Err(x),
    //  ^^^^^^^^^^^ 被解析为 `IdentifierPattern` 。
    }
}

// If `EXPECTED_VALUE` were treated as an `IdentifierPattern` above,
// that pattern would always match, making the function always return
// `Ok(_) regardless of the input.
assert_eq!(check_value(42), Ok(42));
assert_eq!(check_value(43), Err(43));
<span class="boring">}</span></code></pre>
</blockquote>
</div>

<div class="rule" id="r-patterns.ident.constraint"><a class="rule-link" href="#r-patterns.ident.constraint" title="patterns.ident.constraint"><span>[patterns<wbr>.ident<wbr>.constraint]</span></a>
</div>

<p>如果指定了 <code>ref</code> 或 <code>ref mut</code> 且标识符遮蔽了常量，则这是一个错误。</p>
<div class="rule" id="r-patterns.ident.refutable"><a class="rule-link" href="#r-patterns.ident.refutable" title="patterns.ident.refutable"><span>[patterns<wbr>.ident<wbr>.refutable]</span></a>
</div>

<p>如果 <code>@</code> 子模式是不可反驳的或者没有指定子模式，则标识符模式是不可反驳的。</p>
<div class="rule" id="r-patterns.ident.binding"><a class="rule-link" href="#r-patterns.ident.binding" title="patterns.ident.binding"><span>[patterns<wbr>.ident<wbr>.binding]</span></a>
</div>

<h3 id="绑定模式"><a class="header" href="#绑定模式">绑定模式</a></h3>
<div class="rule" id="r-patterns.ident.binding.intro"><a class="rule-link" href="#r-patterns.ident.binding.intro" title="patterns.ident.binding.intro"><span>[patterns<wbr>.ident<wbr>.binding<wbr>.intro]</span></a>
</div>

<p>为了提供更好的易用性，模式以不同的 <em>绑定模式</em> 运行，以便更轻松地将引用绑定到值。
当非引用模式匹配引用值时，它将自动被视为 <code>ref</code> 或 <code>ref mut</code> 绑定。
示例：</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let x: &amp;Option&lt;i32&gt; = &amp;Some(3);
if let Some(y) = x {
    // y 被转换为 `ref y` 且其类型为 &amp;i32
}
<span class="boring">}</span></code></pre>
<div class="rule" id="r-patterns.ident.binding.non-reference"><a class="rule-link" href="#r-patterns.ident.binding.non-reference" title="patterns.ident.binding.non-reference"><span>[patterns<wbr>.ident<wbr>.binding<wbr>.non-reference]</span></a>
</div>

<p><em>非引用模式</em> 包括除绑定、 <a href="#wildcard-pattern">通配符模式</a> (<code>_</code>) 、引用类型的 <a href="#path-patterns"><code>const</code> 模式</a> 以及 <a href="#reference-patterns">引用模式</a> 之外的所有模式。</p>
<div class="rule" id="r-patterns.ident.binding.default-mode"><a class="rule-link" href="#r-patterns.ident.binding.default-mode" title="patterns.ident.binding.default-mode"><span>[patterns<wbr>.ident<wbr>.binding<wbr>.default-mode]</span></a>
</div>

<p>如果绑定模式没有显式具有 <code>ref</code> 、 <code>ref mut</code> 或 <code>mut</code> ，那么它使用 <em>默认绑定模式</em> 来确定变量如何绑定。</p>
<div class="rule" id="r-patterns.ident.binding.move"><a class="rule-link" href="#r-patterns.ident.binding.move" title="patterns.ident.binding.move"><span>[patterns<wbr>.ident<wbr>.binding<wbr>.move]</span></a>
</div>

<p>默认绑定模式以使用移动语义的 “move” 模式开始。</p>
<div class="rule" id="r-patterns.ident.binding.top-down"><a class="rule-link" href="#r-patterns.ident.binding.top-down" title="patterns.ident.binding.top-down"><span>[patterns<wbr>.ident<wbr>.binding<wbr>.top-down]</span></a>
</div>

<p>匹配模式时，编译器从模式外部开始并向内工作。</p>
<div class="rule" id="r-patterns.ident.binding.auto-deref"><a class="rule-link" href="#r-patterns.ident.binding.auto-deref" title="patterns.ident.binding.auto-deref"><span>[patterns<wbr>.ident<wbr>.binding<wbr>.auto-deref]</span></a>
</div>

<p>每当使用非引用模式匹配引用时，它会自动解引用该值并更新默认绑定模式。</p>
<div class="rule" id="r-patterns.ident.binding.ref"><a class="rule-link" href="#r-patterns.ident.binding.ref" title="patterns.ident.binding.ref"><span>[patterns<wbr>.ident<wbr>.binding<wbr>.ref]</span></a>
</div>

<p>引用将默认绑定模式设置为 <code>ref</code> 。</p>
<div class="rule" id="r-patterns.ident.binding.ref-mut"><a class="rule-link" href="#r-patterns.ident.binding.ref-mut" title="patterns.ident.binding.ref-mut"><span>[patterns<wbr>.ident<wbr>.binding<wbr>.ref-mut]</span></a>
</div>

<p>可变引用将模式设置为 <code>ref mut</code> ，除非模式已经是 <code>ref</code> ，在这种情况下它保持为 <code>ref</code> 。</p>
<div class="rule" id="r-patterns.ident.binding.nested-references"><a class="rule-link" href="#r-patterns.ident.binding.nested-references" title="patterns.ident.binding.nested-references"><span>[patterns<wbr>.ident<wbr>.binding<wbr>.nested-references]</span></a>
</div>

<p>如果自动解引用的值仍然是引用，则对其进行解引用并重复此过程。</p>
<div class="rule" id="r-patterns.ident.binding.mode-limitations-binding"><a class="rule-link" href="#r-patterns.ident.binding.mode-limitations-binding" title="patterns.ident.binding.mode-limitations-binding"><span>[patterns<wbr>.ident<wbr>.binding<wbr>.mode-limitations-binding]</span></a>
</div>

<p>只有当默认绑定模式为 “move” 时，绑定模式才可以显式指定 <code>ref</code> 或 <code>ref mut</code> 绑定模式，或者使用 <code>mut</code> 指定可变性。例如，这些是不被接受的：</p>
<pre class="playground"><code class="language-rust edition2024 compile_fail"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let [mut x] = &amp;[()]; //~ ERROR
let [ref x] = &amp;[()]; //~ ERROR
let [ref mut x] = &amp;mut [()]; //~ ERROR
<span class="boring">}</span></code></pre>
<div class="rule" id="r-patterns.ident.binding.mode-limitations.edition2024"><a class="rule-link" href="#r-patterns.ident.binding.mode-limitations.edition2024" title="patterns.ident.binding.mode-limitations.edition2024"><span>[patterns<wbr>.ident<wbr>.binding<wbr>.mode-limitations<wbr>.edition2024]</span></a>
</div>

<div class="alert alert-edition">
<blockquote>
<p class="alert-title"><span class="alert-title-edition">2024</span> 版次差异</p>

<p>Before the 2024 edition, bindings could explicitly specify a <code>ref</code> or <code>ref mut</code> binding mode even when the default binding mode was not “move”, and they could specify mutability on such bindings with <code>mut</code>. In these editions, specifying <code>mut</code> on a binding set the binding mode to “move” regardless of the current default binding mode.</p>
</blockquote>
</div>

<div class="rule" id="r-patterns.ident.binding.mode-limitations-reference"><a class="rule-link" href="#r-patterns.ident.binding.mode-limitations-reference" title="patterns.ident.binding.mode-limitations-reference"><span>[patterns<wbr>.ident<wbr>.binding<wbr>.mode-limitations-reference]</span></a>
</div>

<p>类似地，引用模式仅在默认绑定模式为 “move” 时出现。例如，这是不被接受的：</p>
<pre class="playground"><code class="language-rust edition2024 compile_fail"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let [&amp;x] = &amp;[&amp;()]; //~ ERROR
<span class="boring">}</span></code></pre>
<div class="rule" id="r-patterns.ident.binding.mode-limitations-reference.edition2024"><a class="rule-link" href="#r-patterns.ident.binding.mode-limitations-reference.edition2024" title="patterns.ident.binding.mode-limitations-reference.edition2024"><span>[patterns<wbr>.ident<wbr>.binding<wbr>.mode-limitations-reference<wbr>.edition2024]</span></a>
</div>

<div class="alert alert-edition">
<blockquote>
<p class="alert-title"><span class="alert-title-edition">2024</span> 版次差异</p>

<p>Before the 2024 edition, reference patterns could appear even when the default binding mode was not “move”, and had both the effect of matching against the scrutinee and of causing the default binding mode to be reset to “move”.</p>
</blockquote>
</div>

<div class="rule" id="r-patterns.ident.binding.mixed"><a class="rule-link" href="#r-patterns.ident.binding.mixed" title="patterns.ident.binding.mixed"><span>[patterns<wbr>.ident<wbr>.binding<wbr>.mixed]</span></a>
</div>

<p>移动绑定和引用绑定可以混合在同一个模式中。
这样做会导致绑定到的对象发生部分移动，之后该对象将无法使用。
这仅在类型不可复制时适用。</p>
<p>在下面的示例中， <code>name</code> 从 <code>person</code> 中移出。
尝试将 <code>person</code> 作为一个整体使用或使用 <code>person.name</code> 会因为 <em>部分移动</em> 而导致错误。</p>
<p>示例：</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">struct Person {
</span><span class="boring">   name: String,
</span><span class="boring">   age: u8,
</span><span class="boring">}
</span><span class="boring">let person = Person{ name: String::from("John"), age: 23 };
</span>// `name` 从 person 中移出且 `age` 被引用
let Person { name, ref age } = person;
<span class="boring">}</span></code></pre>
<div class="rule" id="r-patterns.wildcard"><a class="rule-link" href="#r-patterns.wildcard" title="patterns.wildcard"><span>[patterns<wbr>.wildcard]</span></a>
</div>

<h2 id="通配符模式"><a class="header" href="#通配符模式">通配符模式</a></h2>
<div class="rule" id="r-patterns.wildcard.syntax"><a class="rule-link" href="#r-patterns.wildcard.syntax" title="patterns.wildcard.syntax"><span>[patterns<wbr>.wildcard<wbr>.syntax]</span></a>
</div>

<div class="grammar-container">
<p><strong><sup>Syntax</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-WildcardPattern" onclick="show_railroad()"><a href="patterns.html#railroad-WildcardPattern">WildcardPattern</a></span> → <span class="grammar-literal">_</span></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>

<div class="grammar-railroad grammar-hidden">
<div style="width: 135px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-WildcardPattern"><svg class="railroad" viewbox="0 0 135 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-WildcardPattern">
<text class="comment" x="67" y="25">
WildcardPattern</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="35" y="42" />
<text x="49" y="58">
_</text>
</g>
<path d=" M 73 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 53 h 10" />
<path d=" M 63 53 h 10" />
</g>
</g>
</svg>
</div>

</div>

<div class="rule" id="r-patterns.wildcard.intro"><a class="rule-link" href="#r-patterns.wildcard.intro" title="patterns.wildcard.intro"><span>[patterns<wbr>.wildcard<wbr>.intro]</span></a>
</div>

<p><em>通配符模式</em> （下划线符号）匹配任何值。
它用于在值无关紧要时忽略它们。</p>
<div class="rule" id="r-patterns.wildcard.struct-matcher"><a class="rule-link" href="#r-patterns.wildcard.struct-matcher" title="patterns.wildcard.struct-matcher"><span>[patterns<wbr>.wildcard<wbr>.struct-matcher]</span></a>
</div>

<p>在其他模式内部，它匹配单个数据字段（与匹配剩余字段的 <code>..</code> 相反）。</p>
<div class="rule" id="r-patterns.wildcard.no-binding"><a class="rule-link" href="#r-patterns.wildcard.no-binding" title="patterns.wildcard.no-binding"><span>[patterns<wbr>.wildcard<wbr>.no-binding]</span></a>
</div>

<p>与标识符模式不同，它不会复制、移动或借用它匹配的值。</p>
<p>示例：</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">let x = 20;
</span>let (a, _) = (10, x);   // x 始终被 _ 匹配
<span class="boring">assert_eq!(a, 10);
</span>
// 忽略一个函数/闭包参数
let real_part = |a: f64, _: f64| { a };

// 忽略 结构体 中的一个字段
<span class="boring">struct RGBA {
</span><span class="boring">   r: f32,
</span><span class="boring">   g: f32,
</span><span class="boring">   b: f32,
</span><span class="boring">   a: f32,
</span><span class="boring">}
</span><span class="boring">let color = RGBA{r: 0.4, g: 0.1, b: 0.9, a: 0.5};
</span>let RGBA{r: red, g: green, b: blue, a: _} = color;
<span class="boring">assert_eq!(color.r, red);
</span><span class="boring">assert_eq!(color.g, green);
</span><span class="boring">assert_eq!(color.b, blue);
</span>
// 接受任何 Some，无论其值为何
<span class="boring">let x = Some(10);
</span>if let Some(_) = x {}
<span class="boring">}</span></code></pre>
<div class="rule" id="r-patterns.wildcard.refutable"><a class="rule-link" href="#r-patterns.wildcard.refutable" title="patterns.wildcard.refutable"><span>[patterns<wbr>.wildcard<wbr>.refutable]</span></a>
</div>

<p>通配符模式始终是不可反驳的。</p>
<div class="rule" id="r-patterns.rest"><a class="rule-link" href="#r-patterns.rest" title="patterns.rest"><span>[patterns<wbr>.rest]</span></a>
</div>

<h2 id="剩余模式"><a class="header" href="#剩余模式">剩余模式</a></h2>
<div class="rule" id="r-patterns.rest.syntax"><a class="rule-link" href="#r-patterns.rest.syntax" title="patterns.rest.syntax"><span>[patterns<wbr>.rest<wbr>.syntax]</span></a>
</div>

<div class="grammar-container">
<p><strong><sup>Syntax</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-RestPattern" onclick="show_railroad()"><a href="patterns.html#railroad-RestPattern">RestPattern</a></span> → <span class="grammar-literal">..</span></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>

<div class="grammar-railroad grammar-hidden">
<div style="width: 107px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-RestPattern"><svg class="railroad" viewbox="0 0 107 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-RestPattern">
<text class="comment" x="53" y="25">
RestPattern</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="35" y="42" />
<text x="53" y="58">
..</text>
</g>
<path d=" M 81 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 53 h 10" />
<path d=" M 71 53 h 10" />
</g>
</g>
</svg>
</div>

</div>

<div class="rule" id="r-patterns.rest.intro"><a class="rule-link" href="#r-patterns.rest.intro" title="patterns.rest.intro"><span>[patterns<wbr>.rest<wbr>.intro]</span></a>
</div>

<p><em>剩余模式</em> （ <code>..</code> 词法单元）充当变长模式，匹配前后尚未匹配的零个或多个元素。</p>
<div class="rule" id="r-patterns.rest.allowed-patterns"><a class="rule-link" href="#r-patterns.rest.allowed-patterns" title="patterns.rest.allowed-patterns"><span>[patterns<wbr>.rest<wbr>.allowed-patterns]</span></a>
</div>

<p>它只能用于 <a href="#tuple-patterns">元组</a> 、 <a href="#tuple-struct-patterns">元组结构体</a> 和 <a href="#slice-patterns">切片</a> 模式，并且只能作为这些模式中的元素之一出现一次。
仅对于 <a href="#slice-patterns">切片模式</a> ，它也允许在 <a href="#identifier-patterns">标识符模式</a> 中使用。</p>
<div class="rule" id="r-patterns.rest.refutable"><a class="rule-link" href="#r-patterns.rest.refutable" title="patterns.rest.refutable"><span>[patterns<wbr>.rest<wbr>.refutable]</span></a>
</div>

<p>剩余模式始终是不可反驳的。</p>
<p>示例：</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">let words = vec!["a", "b", "c"];
</span><span class="boring">let slice = &amp;words[..];
</span>match slice {
    [] =&gt; println!("slice is empty"),
    [one] =&gt; println!("single element {}", one),
    [head, tail @ ..] =&gt; println!("head={} tail={:?}", head, tail),
}

match slice {
    // 忽略除最后一个元素（必须是 "!"）之外的所有内容。
    [.., "!"] =&gt; println!("!!!"),

    // `start` 是除最后一个元素（必须是 "z"）之外的所有内容的切片。
    [start @ .., "z"] =&gt; println!("starts with: {:?}", start),

    // `end` 是除第一个元素（必须是 "a"）之外的所有内容的切片。
    ["a", end @ ..] =&gt; println!("ends with: {:?}", end),

    // 'whole' 是整个切片且 `last` 是最后一个元素
    whole @ [.., last] =&gt; println!("the last element of {:?} is {}", whole, last),

    rest =&gt; println!("{:?}", rest),
}

if let [.., penultimate, _] = slice {
    println!("next to last is {}", penultimate);
}

<span class="boring">let tuple = (1, 2, 3, 4, 5);
</span>// 剩余模式也可用于元组和元组
// 结构体模式。
match tuple {
    (1, .., y, z) =&gt; println!("y={} z={}", y, z),
    (.., 5) =&gt; println!("tail must be 5"),
    (..) =&gt; println!("matches everything else"),
}
<span class="boring">}</span></code></pre>
<div class="rule" id="r-patterns.range"><a class="rule-link" href="#r-patterns.range" title="patterns.range"><span>[patterns<wbr>.range]</span></a>
</div>

<h2 id="范围模式"><a class="header" href="#范围模式">范围模式</a></h2>
<div class="rule" id="r-patterns.range.syntax"><a class="rule-link" href="#r-patterns.range.syntax" title="patterns.range.syntax"><span>[patterns<wbr>.range<wbr>.syntax]</span></a>
</div>

<div class="grammar-container">
<p><strong><sup>Syntax</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-RangePattern" onclick="show_railroad()"><a href="patterns.html#railroad-RangePattern">RangePattern</a></span> → <br>      <span class="grammar-text"><a href="patterns.html#grammar-RangeExclusivePattern">RangeExclusivePattern</a></span> <br>    | <span class="grammar-text"><a href="patterns.html#grammar-RangeInclusivePattern">RangeInclusivePattern</a></span> <br>    | <span class="grammar-text"><a href="patterns.html#grammar-RangeFromPattern">RangeFromPattern</a></span> <br>    | <span class="grammar-text"><a href="patterns.html#grammar-RangeToExclusivePattern">RangeToExclusivePattern</a></span> <br>    | <span class="grammar-text"><a href="patterns.html#grammar-RangeToInclusivePattern">RangeToInclusivePattern</a></span> <br>    | <span class="grammar-text"><a href="patterns.html#grammar-ObsoleteRangePattern">ObsoleteRangePattern</a></span>​<sup class="footnote-reference" id="fr-obsolete-range-edition-1"><a href="#footnote-obsolete-range-edition">1</a></sup></p>
<p><span class="grammar-text grammar-production" id="grammar-RangeExclusivePattern" onclick="show_railroad()"><a href="patterns.html#railroad-RangeExclusivePattern">RangeExclusivePattern</a></span> → <br>      <span class="grammar-text"><a href="patterns.html#grammar-RangePatternBound">RangePatternBound</a></span> <span class="grammar-literal">..</span> <span class="grammar-text"><a href="patterns.html#grammar-RangePatternBound">RangePatternBound</a></span></p>
<p><span class="grammar-text grammar-production" id="grammar-RangeInclusivePattern" onclick="show_railroad()"><a href="patterns.html#railroad-RangeInclusivePattern">RangeInclusivePattern</a></span> → <br>      <span class="grammar-text"><a href="patterns.html#grammar-RangePatternBound">RangePatternBound</a></span> <span class="grammar-literal">..=</span> <span class="grammar-text"><a href="patterns.html#grammar-RangePatternBound">RangePatternBound</a></span></p>
<p><span class="grammar-text grammar-production" id="grammar-RangeFromPattern" onclick="show_railroad()"><a href="patterns.html#railroad-RangeFromPattern">RangeFromPattern</a></span> → <br>      <span class="grammar-text"><a href="patterns.html#grammar-RangePatternBound">RangePatternBound</a></span> <span class="grammar-literal">..</span></p>
<p><span class="grammar-text grammar-production" id="grammar-RangeToExclusivePattern" onclick="show_railroad()"><a href="patterns.html#railroad-RangeToExclusivePattern">RangeToExclusivePattern</a></span> → <br>      <span class="grammar-literal">..</span> <span class="grammar-text"><a href="patterns.html#grammar-RangePatternBound">RangePatternBound</a></span></p>
<p><span class="grammar-text grammar-production" id="grammar-RangeToInclusivePattern" onclick="show_railroad()"><a href="patterns.html#railroad-RangeToInclusivePattern">RangeToInclusivePattern</a></span> → <br>      <span class="grammar-literal">..=</span> <span class="grammar-text"><a href="patterns.html#grammar-RangePatternBound">RangePatternBound</a></span></p>
<p><span class="grammar-text grammar-production" id="grammar-ObsoleteRangePattern" onclick="show_railroad()"><a href="patterns.html#railroad-ObsoleteRangePattern">ObsoleteRangePattern</a></span> → <br>    <span class="grammar-text"><a href="patterns.html#grammar-RangePatternBound">RangePatternBound</a></span> <span class="grammar-literal">...</span> <span class="grammar-text"><a href="patterns.html#grammar-RangePatternBound">RangePatternBound</a></span></p>
<p><span class="grammar-text grammar-production" id="grammar-RangePatternBound" onclick="show_railroad()"><a href="patterns.html#railroad-RangePatternBound">RangePatternBound</a></span> → <br>      <span class="grammar-text"><a href="patterns.html#grammar-LiteralPattern">LiteralPattern</a></span> <br>    | <span class="grammar-text"><a href="expressions/path-expr.html#grammar-PathExpression">PathExpression</a></span></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>

<div class="grammar-railroad grammar-hidden">
<div style="width: 330px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-RangePattern"><svg class="railroad" viewbox="0 0 330 239" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-RangePattern">
<text class="comment" x="57" y="25">
RangePattern</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="choice">
<path d=" M 35 53 h 24 m 196 0 h 40" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-RangeExclusivePattern">
<g class="nonterminal">
<rect height="22" width="196" x="59" y="42" />
<text x="157" y="58">
RangeExclusivePattern</text>
</g>
</a>
</g>
<path d=" M 35 53 a 12 12 0 0 1 12 12 v 9 m 236 0 v -9 a 12 12 0 0 1 12 -12" />
<path d=" M 47 74 v 33 m 236 0 v -33" />
<path d=" M 47 107 v 33 m 236 0 v -33" />
<path d=" M 47 140 v 33 m 236 0 v -33" />
<path d=" M 47 173 v 33 m 236 0 v -33" />
<path d=" M 47 74 v 0 a 12 12 0 0 0 12 12 m 196 0 h 16 a 12 12 0 0 0 12 -12 v 0" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-RangeInclusivePattern">
<g class="nonterminal">
<rect height="22" width="196" x="59" y="75" />
<text x="157" y="91">
RangeInclusivePattern</text>
</g>
</a>
</g>
<path d=" M 47 107 v 0 a 12 12 0 0 0 12 12 m 148 0 h 64 m -29 0 l -5 -5 m 0 10 l 5 -5 m 29 0 a 12 12 0 0 0 12 -12 v 0" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-RangeFromPattern">
<g class="nonterminal">
<rect height="22" width="148" x="59" y="108" />
<text x="133" y="124">
RangeFromPattern</text>
</g>
</a>
</g>
<path d=" M 47 140 v 0 a 12 12 0 0 0 12 12 m 212 0 h 0 a 12 12 0 0 0 12 -12 v 0" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-RangeToExclusivePattern">
<g class="nonterminal">
<rect height="22" width="212" x="59" y="141" />
<text x="165" y="157">
RangeToExclusivePattern</text>
</g>
</a>
</g>
<path d=" M 47 173 v 0 a 12 12 0 0 0 12 12 m 212 0 h 0 a 12 12 0 0 0 12 -12 v 0" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-RangeToInclusivePattern">
<g class="nonterminal">
<rect height="22" width="212" x="59" y="174" />
<text x="165" y="190">
RangeToInclusivePattern</text>
</g>
</a>
</g>
<path d=" M 47 206 v 0 a 12 12 0 0 0 12 12 m 188 0 h 24 a 12 12 0 0 0 12 -12 v 0" />
<a class="link" xlink:href="patterns.html#railroad-ObsoleteRangePattern">
<g class="nonterminal">
<rect height="22" width="188" x="59" y="207" />
<text x="153" y="223">
ObsoleteRangePattern</text>
</g>
</a>
</g>
<path d=" M 305 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 53 h 10" />
<path d=" M 295 53 h 10" />
</g>
</g>
</svg>
</div>

<div style="width: 438px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-RangeExclusivePattern"><svg class="railroad" viewbox="0 0 438 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-RangeExclusivePattern">
<text class="comment" x="92" y="25">
RangeExclusivePattern</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-RangePatternBound">
<g class="nonterminal">
<rect height="22" width="156" x="35" y="42" />
<text x="113" y="58">
RangePatternBound</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="201" y="42" />
<text x="219" y="58">
..</text>
</g>
<a class="link" xlink:href="patterns.html#railroad-RangePatternBound">
<g class="nonterminal">
<rect height="22" width="156" x="247" y="42" />
<text x="325" y="58">
RangePatternBound</text>
</g>
</a>
<path d=" M 191 53 h 10" />
<path d=" M 237 53 h 10" />
</g>
<path d=" M 413 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 53 h 10" />
<path d=" M 403 53 h 10" />
</g>
</g>
</svg>
</div>

<div style="width: 446px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-RangeInclusivePattern"><svg class="railroad" viewbox="0 0 446 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-RangeInclusivePattern">
<text class="comment" x="92" y="25">
RangeInclusivePattern</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-RangePatternBound">
<g class="nonterminal">
<rect height="22" width="156" x="35" y="42" />
<text x="113" y="58">
RangePatternBound</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="201" y="42" />
<text x="223" y="58">
..=</text>
</g>
<a class="link" xlink:href="patterns.html#railroad-RangePatternBound">
<g class="nonterminal">
<rect height="22" width="156" x="255" y="42" />
<text x="333" y="58">
RangePatternBound</text>
</g>
</a>
<path d=" M 191 53 h 10" />
<path d=" M 245 53 h 10" />
</g>
<path d=" M 421 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 53 h 10" />
<path d=" M 411 53 h 10" />
</g>
</g>
</svg>
</div>

<div style="width: 272px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-RangeFromPattern"><svg class="railroad" viewbox="0 0 272 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-RangeFromPattern">
<text class="comment" x="71" y="25">
RangeFromPattern</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-RangePatternBound">
<g class="nonterminal">
<rect height="22" width="156" x="35" y="42" />
<text x="113" y="58">
RangePatternBound</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="201" y="42" />
<text x="219" y="58">
..</text>
</g>
<path d=" M 191 53 h 10" />
</g>
<path d=" M 247 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 53 h 10" />
<path d=" M 237 53 h 10" />
</g>
</g>
</svg>
</div>

<div style="width: 272px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-RangeToExclusivePattern"><svg class="railroad" viewbox="0 0 272 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-RangeToExclusivePattern">
<text class="comment" x="99" y="25">
RangeToExclusivePattern</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="35" y="42" />
<text x="53" y="58">
..</text>
</g>
<a class="link" xlink:href="patterns.html#railroad-RangePatternBound">
<g class="nonterminal">
<rect height="22" width="156" x="81" y="42" />
<text x="159" y="58">
RangePatternBound</text>
</g>
</a>
<path d=" M 71 53 h 10" />
</g>
<path d=" M 247 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 53 h 10" />
<path d=" M 237 53 h 10" />
</g>
</g>
</svg>
</div>

<div style="width: 280px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-RangeToInclusivePattern"><svg class="railroad" viewbox="0 0 280 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-RangeToInclusivePattern">
<text class="comment" x="99" y="25">
RangeToInclusivePattern</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="35" y="42" />
<text x="57" y="58">
..=</text>
</g>
<a class="link" xlink:href="patterns.html#railroad-RangePatternBound">
<g class="nonterminal">
<rect height="22" width="156" x="89" y="42" />
<text x="167" y="58">
RangePatternBound</text>
</g>
</a>
<path d=" M 79 53 h 10" />
</g>
<path d=" M 255 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 53 h 10" />
<path d=" M 245 53 h 10" />
</g>
</g>
</svg>
</div>

<div style="width: 446px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-ObsoleteRangePattern"><svg class="railroad" viewbox="0 0 446 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-ObsoleteRangePattern">
<text class="comment" x="88" y="25">
ObsoleteRangePattern</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-RangePatternBound">
<g class="nonterminal">
<rect height="22" width="156" x="35" y="42" />
<text x="113" y="58">
RangePatternBound</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="201" y="42" />
<text x="223" y="58">
...</text>
</g>
<a class="link" xlink:href="patterns.html#railroad-RangePatternBound">
<g class="nonterminal">
<rect height="22" width="156" x="255" y="42" />
<text x="333" y="58">
RangePatternBound</text>
</g>
</a>
<path d=" M 191 53 h 10" />
<path d=" M 245 53 h 10" />
</g>
<path d=" M 421 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 53 h 10" />
<path d=" M 411 53 h 10" />
</g>
</g>
</svg>
</div>

<div style="width: 250px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-RangePatternBound"><svg class="railroad" viewbox="0 0 250 107" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-RangePatternBound">
<text class="comment" x="74" y="25">
RangePatternBound</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="choice">
<path d=" M 35 53 h 24 m 132 0 h 24" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-LiteralPattern">
<g class="nonterminal">
<rect height="22" width="132" x="59" y="42" />
<text x="125" y="58">
LiteralPattern</text>
</g>
</a>
</g>
<path d=" M 35 53 a 12 12 0 0 1 12 12 v 9 m 156 0 v -9 a 12 12 0 0 1 12 -12" />
<path d=" M 47 74 v 0 a 12 12 0 0 0 12 12 m 132 0 h 0 a 12 12 0 0 0 12 -12 v 0" />
<a class="link" xlink:href="expressions/path-expr.html#railroad-PathExpression">
<g class="nonterminal">
<rect height="22" width="132" x="59" y="75" />
<text x="125" y="91">
PathExpression</text>
</g>
</a>
</g>
<path d=" M 225 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 53 h 10" />
<path d=" M 215 53 h 10" />
</g>
</g>
</svg>
</div>

</div>

<div class="rule" id="r-patterns.range.intro"><a class="rule-link" href="#r-patterns.range.intro" title="patterns.range.intro"><span>[patterns<wbr>.range<wbr>.intro]</span></a>
</div>

<p><em>范围模式</em> 匹配由其边界定义的范围内的标量值。
它们包含一个 <em>符号</em> （ <code>..</code> 或 <code>..=</code> ）和一侧或两侧的边界。</p>
<p>符号左侧的边界称为 <em>下边界</em> 。
右侧的边界称为 <em>上边界</em> 。</p>
<div class="rule" id="r-patterns.range.exclusive"><a class="rule-link" href="#r-patterns.range.exclusive" title="patterns.range.exclusive"><span>[patterns<wbr>.range<wbr>.exclusive]</span></a>
</div>

<p><em>排他性范围模式</em> 匹配从下边界到（但不包括）上边界的所有值。
它写为下边界，后跟 <code>..</code> ，再后跟上边界。</p>
<p>例如，模式 <code>'m'..'p'</code> 将仅匹配 <code>'m'</code> 、 <code>'n'</code> 和 <code>'o'</code> ，特别 <strong>不</strong> 包括 <code>'p'</code> 。</p>
<div class="rule" id="r-patterns.range.inclusive"><a class="rule-link" href="#r-patterns.range.inclusive" title="patterns.range.inclusive"><span>[patterns<wbr>.range<wbr>.inclusive]</span></a>
</div>

<p><em>包含性范围模式</em> 匹配从下边界到并包括上边界的所有值。
它写为下边界，后跟 <code>..=</code> ，再后跟上边界。</p>
<p>例如，模式 <code>'m'..='p'</code> 将仅匹配值 <code>'m'</code> 、 <code>'n'</code> 、 <code>'o'</code> 和 <code>'p'</code> 。</p>
<div class="rule" id="r-patterns.range.from"><a class="rule-link" href="#r-patterns.range.from" title="patterns.range.from"><span>[patterns<wbr>.range<wbr>.from]</span></a>
</div>

<p><em>起点范围模式</em> 匹配大于或等于下边界的所有值。
它写为下边界，后跟 <code>..</code> 。</p>
<p>例如， <code>1..</code> 将匹配任何大于或等于 1 的整数，如 1、9 或 9001，或者 9007199254740991（如果它具有适当的大小），但不匹配 0，对于有符号整数也不匹配负数。</p>
<div class="rule" id="r-patterns.range.to-exclusive"><a class="rule-link" href="#r-patterns.range.to-exclusive" title="patterns.range.to-exclusive"><span>[patterns<wbr>.range<wbr>.to-exclusive]</span></a>
</div>

<p><em>终点排他性范围模式</em> 匹配所有小于上边界的值。
它写为 <code>..</code> 后跟上边界。</p>
<p>例如， <code>..10</code> 将匹配任何小于 10 的整数，如 9、1、0，对于有符号整数类型，还匹配所有负值。</p>
<div class="rule" id="r-patterns.range.to-inclusive"><a class="rule-link" href="#r-patterns.range.to-inclusive" title="patterns.range.to-inclusive"><span>[patterns<wbr>.range<wbr>.to-inclusive]</span></a>
</div>

<p><em>终点包含性范围模式</em> 匹配所有小于或等于上边界的值。
它写为 <code>..=</code> 后跟上边界。</p>
<p>例如， <code>..=10</code> 将匹配任何小于或等于 10 的整数，如 10、1、0，对于有符号整数类型，还匹配所有负值。</p>
<div class="rule" id="r-patterns.range.constraint-nonempty"><a class="rule-link" href="#r-patterns.range.constraint-nonempty" title="patterns.range.constraint-nonempty"><span>[patterns<wbr>.range<wbr>.constraint-nonempty]</span></a>
</div>

<p>范围模式必须非空；它必须至少跨越其类型可能值集中的一个值。换句话说：</p>
<ul>
<li>在 <code>a..=b</code> 中，必须满足 a ≤ b。例如，出现范围模式 <code>10..=0</code> 是一个错误，但允许 <code>10..=10</code> 。</li>
<li>在 <code>a..b</code> 中，必须满足 a &lt; b。例如，出现范围模式 <code>10..0</code> 或 <code>10..10</code> 是一个错误。</li>
<li>在 <code>..b</code> 中，b 必须不是其类型的最小值。例如，出现范围模式 <code>..-128i8</code> 或 <code>..f64::NEG_INFINITY</code> 是一个错误。</li>
</ul>
<div class="rule" id="r-patterns.range.bound"><a class="rule-link" href="#r-patterns.range.bound" title="patterns.range.bound"><span>[patterns<wbr>.range<wbr>.bound]</span></a>
</div>

<p>边界写为以下之一：</p>
<ul>
<li>字符、字节、整数或浮点数字面量。</li>
<li>一个 <code>-</code> 后跟整数或浮点数字面量。</li>
<li>一个 <a href="expressions/path-expr.html">路径</a> 。</li>
</ul>
<div class="alert alert-note">
<blockquote>
<p class="alert-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>注意</p>

<p>We syntactically accept more than this for a <em><a href="patterns.html#grammar-RangePatternBound">RangePatternBound</a></em>. We later reject the other things semantically.</p>
</blockquote>
</div>

<div class="rule" id="r-patterns.range.constraint-bound-path"><a class="rule-link" href="#r-patterns.range.constraint-bound-path" title="patterns.range.constraint-bound-path"><span>[patterns<wbr>.range<wbr>.constraint-bound-path]</span></a>
</div>

<p>如果边界写为路径，则在宏解析后，该路径必须解析为 <code>char</code> 类型、整数类型或浮点类型的常量项。</p>
<div class="rule" id="r-patterns.range.type"><a class="rule-link" href="#r-patterns.range.type" title="patterns.range.type"><span>[patterns<wbr>.range<wbr>.type]</span></a>
</div>

<p>范围模式匹配其上边界和下边界的类型，这两者必须是同一类型。</p>
<div class="rule" id="r-patterns.range.path-value"><a class="rule-link" href="#r-patterns.range.path-value" title="patterns.range.path-value"><span>[patterns<wbr>.range<wbr>.path-value]</span></a>
</div>

<p>如果边界是一个 <a href="expressions/path-expr.html">路径</a> ，则边界匹配该类型，并具有路径解析到的 <a href="items/constant-items.html">常量</a> 的值。</p>
<div class="rule" id="r-patterns.range.literal-value"><a class="rule-link" href="#r-patterns.range.literal-value" title="patterns.range.literal-value"><span>[patterns<wbr>.range<wbr>.literal-value]</span></a>
</div>

<p>如果边界是一个字面量，则边界匹配该类型，并具有相应 <a href="expressions/literal-expr.html">字面量表达式</a> 的值。</p>
<div class="rule" id="r-patterns.range.negation"><a class="rule-link" href="#r-patterns.range.negation" title="patterns.range.negation"><span>[patterns<wbr>.range<wbr>.negation]</span></a>
</div>

<p>如果边界是一个前面带有 <code>-</code> 的字面量，则边界匹配与相应 <a href="expressions/literal-expr.html">字面量表达式</a> 相同的类型，并具有对相应字面量表达式的值进行 <a href="expressions/operator-expr.html#求负运算符">取反</a> 后的值。</p>
<div class="rule" id="r-patterns.range.float-restriction"><a class="rule-link" href="#r-patterns.range.float-restriction" title="patterns.range.float-restriction"><span>[patterns<wbr>.range<wbr>.float-restriction]</span></a>
</div>

<p>对于浮点范围模式，常量不能是 <code>NaN</code> 。</p>
<p>示例：</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">let c = 'f';
</span>let valid_variable = match c {
    'a'..='z' =&gt; true,
    'A'..='Z' =&gt; true,
    'α'..='ω' =&gt; true,
    _ =&gt; false,
};

<span class="boring">let ph = 10;
</span>println!("{}", match ph {
    0..7 =&gt; "acid",
    7 =&gt; "neutral",
    8..=14 =&gt; "base",
    _ =&gt; unreachable!(),
});

<span class="boring">let uint: u32 = 5;
</span>match uint {
    0 =&gt; "zero!",
    1.. =&gt; "positive number!",
};

// 使用指向常量的路径：
<span class="boring">const TROPOSPHERE_MIN : u8 = 6;
</span><span class="boring">const TROPOSPHERE_MAX : u8 = 20;
</span><span class="boring">
</span><span class="boring">const STRATOSPHERE_MIN : u8 = TROPOSPHERE_MAX + 1;
</span><span class="boring">const STRATOSPHERE_MAX : u8 = 50;
</span><span class="boring">
</span><span class="boring">const MESOSPHERE_MIN : u8 = STRATOSPHERE_MAX + 1;
</span><span class="boring">const MESOSPHERE_MAX : u8 = 85;
</span><span class="boring">
</span><span class="boring">let altitude = 70;
</span><span class="boring">
</span>println!("{}", match altitude {
    TROPOSPHERE_MIN..=TROPOSPHERE_MAX =&gt; "troposphere",
    STRATOSPHERE_MIN..=STRATOSPHERE_MAX =&gt; "stratosphere",
    MESOSPHERE_MIN..=MESOSPHERE_MAX =&gt; "mesosphere",
    _ =&gt; "outer space, maybe",
});

<span class="boring">pub mod binary {
</span><span class="boring">    pub const MEGA : u64 = 1024*1024;
</span><span class="boring">    pub const GIGA : u64 = 1024*1024*1024;
</span><span class="boring">}
</span><span class="boring">let n_items = 20_832_425;
</span><span class="boring">let bytes_per_item = 12;
</span>if let size @ binary::MEGA..=binary::GIGA = n_items * bytes_per_item {
    println!("It fits and occupies {} bytes", size);
}

<span class="boring">trait MaxValue {
</span><span class="boring">    const MAX: u64;
</span><span class="boring">}
</span><span class="boring">impl MaxValue for u8 {
</span><span class="boring">    const MAX: u64 = (1 &lt;&lt; 8) - 1;
</span><span class="boring">}
</span><span class="boring">impl MaxValue for u16 {
</span><span class="boring">    const MAX: u64 = (1 &lt;&lt; 16) - 1;
</span><span class="boring">}
</span><span class="boring">impl MaxValue for u32 {
</span><span class="boring">    const MAX: u64 = (1 &lt;&lt; 32) - 1;
</span><span class="boring">}
</span>// 使用限定路径：
println!("{}", match 0xfacade {
    0 ..= &lt;u8 as MaxValue&gt;::MAX =&gt; "fits in a u8",
    0 ..= &lt;u16 as MaxValue&gt;::MAX =&gt; "fits in a u16",
    0 ..= &lt;u32 as MaxValue&gt;::MAX =&gt; "fits in a u32",
    _ =&gt; "too big",
});
<span class="boring">}</span></code></pre>
<div class="rule" id="r-patterns.range.refutable"><a class="rule-link" href="#r-patterns.range.refutable" title="patterns.range.refutable"><span>[patterns<wbr>.range<wbr>.refutable]</span></a>
</div>

<p>当固定宽度整数和 <code>char</code> 类型的范围模式跨越一个类型的所有可能值集时，它们是不可反驳的。
例如， <code>0u8..=255u8</code> 是不可反驳的。</p>
<div class="rule" id="r-patterns.range.refutable-integer"><a class="rule-link" href="#r-patterns.range.refutable-integer" title="patterns.range.refutable-integer"><span>[patterns<wbr>.range<wbr>.refutable-integer]</span></a>
</div>

<p>整数类型的值范围是从其最小值到最大值的闭区间。</p>
<div class="rule" id="r-patterns.range.refutable-char"><a class="rule-link" href="#r-patterns.range.refutable-char" title="patterns.range.refutable-char"><span>[patterns<wbr>.range<wbr>.refutable-char]</span></a>
</div>

<p><code>char</code> 类型的值范围恰好是那些包含所有 Unicode 标量值的范围： <code>'\u{0000}'..='\u{D7FF}'</code> 和 <code>'\u{E000}'..='\u{10FFFF}'</code> 。</p>
<div class="rule" id="r-patterns.range.constraint-slice"><a class="rule-link" href="#r-patterns.range.constraint-slice" title="patterns.range.constraint-slice"><span>[patterns<wbr>.range<wbr>.constraint-slice]</span></a>
</div>

<p><a href="patterns.html#grammar-RangeFromPattern">RangeFromPattern</a> 不能用作 <a href="#slice-patterns">切片模式</a> 中子模式的顶层模式。
例如，模式 <code>[1.., _]</code> 不是一个有效的模式。</p>
<div class="rule" id="r-patterns.range.edition2021"><a class="rule-link" href="#r-patterns.range.edition2021" title="patterns.range.edition2021"><span>[patterns<wbr>.range<wbr>.edition2021]</span></a>
</div>

<div class="alert alert-edition">
<blockquote>
<p class="alert-title"><span class="alert-title-edition">2021</span> 版次差异</p>

<p>Before the 2021 edition, range patterns with both a lower and upper bound may also be written using <code>...</code> in place of <code>..=</code>, with the same meaning.</p>
</blockquote>
</div>

<div class="rule" id="r-patterns.ref"><a class="rule-link" href="#r-patterns.ref" title="patterns.ref"><span>[patterns<wbr>.ref]</span></a>
</div>

<h2 id="引用模式"><a class="header" href="#引用模式">引用模式</a></h2>
<div class="rule" id="r-patterns.ref.syntax"><a class="rule-link" href="#r-patterns.ref.syntax" title="patterns.ref.syntax"><span>[patterns<wbr>.ref<wbr>.syntax]</span></a>
</div>

<div class="grammar-container">
<p><strong><sup>Syntax</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-ReferencePattern" onclick="show_railroad()"><a href="patterns.html#railroad-ReferencePattern">ReferencePattern</a></span> → ( <span class="grammar-literal">&amp;</span> | <span class="grammar-literal">&amp;&amp;</span> ) <span class="grammar-literal">mut</span><sup>?</sup> <span class="grammar-text"><a href="patterns.html#grammar-PatternWithoutRange">PatternWithoutRange</a></span></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>

<div class="grammar-railroad grammar-hidden">
<div style="width: 438px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-ReferencePattern"><svg class="railroad" viewbox="0 0 438 120" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-ReferencePattern">
<text class="comment" x="71" y="25">
ReferencePattern</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="sequence">
<g class="choice">
<path d=" M 35 66 h 24 m 28 0 h 32" />
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="55" />
<text x="73" y="71">
&amp;</text>
</g>
<path d=" M 35 66 a 12 12 0 0 1 12 12 v 9 m 60 0 v -9 a 12 12 0 0 1 12 -12" />
<path d=" M 47 87 v 0 a 12 12 0 0 0 12 12 m 36 0 h 0 a 12 12 0 0 0 12 -12 v 0" />
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="59" y="88" />
<text x="77" y="104">
&amp;&amp;</text>
</g>
</g>
<g class="optional">
<path d=" M 129 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 44 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="153" y="55" />
<text x="175" y="71">
mut</text>
</g>
</g>
<a class="link" xlink:href="patterns.html#railroad-PatternWithoutRange">
<g class="nonterminal">
<rect height="22" width="172" x="231" y="55" />
<text x="317" y="71">
PatternWithoutRange</text>
</g>
</a>
<path d=" M 119 66 h 10" />
<path d=" M 221 66 h 10" />
</g>
<path d=" M 413 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 66 h 10" />
<path d=" M 403 66 h 10" />
</g>
</g>
</svg>
</div>

</div>

<div class="rule" id="r-patterns.ref.intro"><a class="rule-link" href="#r-patterns.ref.intro" title="patterns.ref.intro"><span>[patterns<wbr>.ref<wbr>.intro]</span></a>
</div>

<p>引用模式对正在匹配的指针进行解引用，从而借用它们。</p>
<p>例如，在 <code>x: &amp;i32</code> 上的这两个 match 是等价的：</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let int_reference = &amp;3;

let a = match *int_reference { 0 =&gt; "zero", _ =&gt; "some" };
let b = match int_reference { &amp;0 =&gt; "zero", _ =&gt; "some" };

assert_eq!(a, b);
<span class="boring">}</span></code></pre>
<div class="rule" id="r-patterns.ref.ref-ref"><a class="rule-link" href="#r-patterns.ref.ref-ref" title="patterns.ref.ref-ref"><span>[patterns<wbr>.ref<wbr>.ref-ref]</span></a>
</div>

<p>引用模式的语法产生式必须匹配 词法单元 <code>&amp;&amp;</code> 才能匹配引用的引用，因为它本身就是一个 词法单元 ，而不是两个 <code>&amp;</code> 词法单元 。</p>
<div class="rule" id="r-patterns.ref.mut"><a class="rule-link" href="#r-patterns.ref.mut" title="patterns.ref.mut"><span>[patterns<wbr>.ref<wbr>.mut]</span></a>
</div>

<p>添加 <code>mut</code> 关键字会解引用一个可变引用。可变性必须与引用的可变性匹配。</p>
<div class="rule" id="r-patterns.ref.refutable"><a class="rule-link" href="#r-patterns.ref.refutable" title="patterns.ref.refutable"><span>[patterns<wbr>.ref<wbr>.refutable]</span></a>
</div>

<p>引用模式始终是不可反驳的。</p>
<div class="rule" id="r-patterns.struct"><a class="rule-link" href="#r-patterns.struct" title="patterns.struct"><span>[patterns<wbr>.struct]</span></a>
</div>

<h2 id="结构体模式"><a class="header" href="#结构体模式">结构体模式</a></h2>
<div class="rule" id="r-patterns.struct.syntax"><a class="rule-link" href="#r-patterns.struct.syntax" title="patterns.struct.syntax"><span>[patterns<wbr>.struct<wbr>.syntax]</span></a>
</div>

<div class="grammar-container">
<p><strong><sup>Syntax</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-StructPattern" onclick="show_railroad()"><a href="patterns.html#railroad-StructPattern">StructPattern</a></span> → <br>    <span class="grammar-text"><a href="paths.html#grammar-PathInExpression">PathInExpression</a></span> <span class="grammar-literal">{</span> <br>        <span class="grammar-text"><a href="patterns.html#grammar-StructPatternElements">StructPatternElements</a></span><sup>?</sup> <br>    <span class="grammar-literal">}</span></p>
<p><span class="grammar-text grammar-production" id="grammar-StructPatternElements" onclick="show_railroad()"><a href="patterns.html#railroad-StructPatternElements">StructPatternElements</a></span> → <br>      <span class="grammar-text"><a href="patterns.html#grammar-StructPatternFields">StructPatternFields</a></span> ( <span class="grammar-literal">,</span> | <span class="grammar-literal">,</span> <span class="grammar-text"><a href="patterns.html#grammar-StructPatternEtCetera">StructPatternEtCetera</a></span> )<sup>?</sup> <br>    | <span class="grammar-text"><a href="patterns.html#grammar-StructPatternEtCetera">StructPatternEtCetera</a></span></p>
<p><span class="grammar-text grammar-production" id="grammar-StructPatternFields" onclick="show_railroad()"><a href="patterns.html#railroad-StructPatternFields">StructPatternFields</a></span> → <br>    <span class="grammar-text"><a href="patterns.html#grammar-StructPatternField">StructPatternField</a></span> ( <span class="grammar-literal">,</span> <span class="grammar-text"><a href="patterns.html#grammar-StructPatternField">StructPatternField</a></span> )<sup>*</sup></p>
<p><span class="grammar-text grammar-production" id="grammar-StructPatternField" onclick="show_railroad()"><a href="patterns.html#railroad-StructPatternField">StructPatternField</a></span> → <br>    <span class="grammar-text"><a href="attributes.html#grammar-OuterAttribute">OuterAttribute</a></span><sup>*</sup> <br>    ( <br>        <span class="grammar-text"><a href="tokens.html#grammar-TUPLE_INDEX">TUPLE_INDEX</a></span> <span class="grammar-literal">:</span> <span class="grammar-text"><a href="patterns.html#grammar-Pattern">Pattern</a></span> <br>      | <span class="grammar-text"><a href="identifiers.html#grammar-IDENTIFIER">IDENTIFIER</a></span> <span class="grammar-literal">:</span> <span class="grammar-text"><a href="patterns.html#grammar-Pattern">Pattern</a></span> <br>      | <span class="grammar-literal">ref</span><sup>?</sup> <span class="grammar-literal">mut</span><sup>?</sup> <span class="grammar-text"><a href="identifiers.html#grammar-IDENTIFIER">IDENTIFIER</a></span> <br>    )</p>
<p><span class="grammar-text grammar-production" id="grammar-StructPatternEtCetera" onclick="show_railroad()"><a href="patterns.html#railroad-StructPatternEtCetera">StructPatternEtCetera</a></span> → <span class="grammar-literal">..</span></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>

<div class="grammar-railroad grammar-hidden">
<div style="width: 548px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-StructPattern"><svg class="railroad" viewbox="0 0 548 87" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-StructPattern">
<text class="comment" x="60" y="25">
StructPattern</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="sequence">
<a class="link" xlink:href="paths.html#railroad-PathInExpression">
<g class="nonterminal">
<rect height="22" width="148" x="35" y="55" />
<text x="109" y="71">
PathInExpression</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="193" y="55" />
<text x="207" y="71">
{</text>
</g>
<g class="optional">
<path d=" M 231 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 196 m -95 0 l -5 -5 m 0 10 l 5 -5 m 95 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<a class="link" xlink:href="patterns.html#railroad-StructPatternElements">
<g class="nonterminal">
<rect height="22" width="196" x="255" y="55" />
<text x="353" y="71">
StructPatternElements</text>
</g>
</a>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="485" y="55" />
<text x="499" y="71">
}</text>
</g>
<path d=" M 183 66 h 10" />
<path d=" M 221 66 h 10" />
<path d=" M 475 66 h 10" />
</g>
<path d=" M 523 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 66 h 10" />
<path d=" M 513 66 h 10" />
</g>
</g>
</svg>
</div>

<div style="width: 630px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-StructPatternElements"><svg class="railroad" viewbox="0 0 630 153" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-StructPatternElements">
<text class="comment" x="92" y="25">
StructPatternElements</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="choice">
<path d=" M 35 66 h 24 m 512 0 h 24" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-StructPatternFields">
<g class="nonterminal">
<rect height="22" width="172" x="59" y="55" />
<text x="145" y="71">
StructPatternFields</text>
</g>
</a>
<g class="optional">
<path d=" M 241 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 282 m -138 0 l -5 -5 m 0 10 l 5 -5 m 138 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<g class="choice">
<path d=" M 265 66 h 24 m 28 0 h 230 m -112 0 l -5 -5 m 0 10 l 5 -5 m 112 0" />
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="289" y="55" />
<text x="303" y="71">
,</text>
</g>
<path d=" M 265 66 a 12 12 0 0 1 12 12 v 9 m 258 0 v -9 a 12 12 0 0 1 12 -12" />
<path d=" M 277 87 v 0 a 12 12 0 0 0 12 12 m 234 0 h 0 a 12 12 0 0 0 12 -12 v 0" />
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="289" y="88" />
<text x="303" y="104">
,</text>
</g>
<a class="link" xlink:href="patterns.html#railroad-StructPatternEtCetera">
<g class="nonterminal">
<rect height="22" width="196" x="327" y="88" />
<text x="425" y="104">
StructPatternEtCetera</text>
</g>
</a>
<path d=" M 317 99 h 10" />
</g>
</g>
</g>
<path d=" M 231 66 h 10" />
</g>
<path d=" M 35 66 a 12 12 0 0 1 12 12 v 42 m 536 0 v -42 a 12 12 0 0 1 12 -12" />
<path d=" M 47 120 v 0 a 12 12 0 0 0 12 12 m 196 0 h 316 m -155 0 l -5 -5 m 0 10 l 5 -5 m 155 0 a 12 12 0 0 0 12 -12 v 0" />
<a class="link" xlink:href="patterns.html#railroad-StructPatternEtCetera">
<g class="nonterminal">
<rect height="22" width="196" x="59" y="121" />
<text x="157" y="137">
StructPatternEtCetera</text>
</g>
</a>
</g>
<path d=" M 605 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 66 h 10" />
<path d=" M 595 66 h 10" />
</g>
</g>
</svg>
</div>

<div style="width: 518px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-StructPatternFields"><svg class="railroad" viewbox="0 0 518 100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-StructPatternFields">
<text class="comment" x="81" y="25">
StructPatternFields</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-StructPatternField">
<g class="nonterminal">
<rect height="22" width="164" x="35" y="55" />
<text x="117" y="71">
StructPatternField</text>
</g>
</a>
<g class="optional">
<path d=" M 209 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 226 m -110 0 l -5 -5 m 0 10 l 5 -5 m 110 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<g class="repeat">
<path d=" M 233 66 h 12 m 202 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -202 m 104 0 l 5 -5 m 0 10 l -5 -5 m -104 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12" />
<g />
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="245" y="55" />
<text x="259" y="71">
,</text>
</g>
<a class="link" xlink:href="patterns.html#railroad-StructPatternField">
<g class="nonterminal">
<rect height="22" width="164" x="283" y="55" />
<text x="365" y="71">
StructPatternField</text>
</g>
</a>
<path d=" M 273 66 h 10" />
</g>
</g>
</g>
<path d=" M 199 66 h 10" />
</g>
<path d=" M 493 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 66 h 10" />
<path d=" M 483 66 h 10" />
</g>
</g>
</svg>
</div>

<div style="width: 636px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-StructPatternField"><svg class="railroad" viewbox="0 0 636 165" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-StructPatternField">
<text class="comment" x="78" y="25">
StructPatternField</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="sequence">
<g class="optional">
<path d=" M 35 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 156 m -75 0 l -5 -5 m 0 10 l 5 -5 m 75 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<g class="repeat">
<path d=" M 59 66 h 12 m 132 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -132 m 69 0 l 5 -5 m 0 10 l -5 -5 m -69 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12" />
<g />
<a class="link" xlink:href="attributes.html#railroad-OuterAttribute">
<g class="nonterminal">
<rect height="22" width="132" x="71" y="55" />
<text x="137" y="71">
OuterAttribute</text>
</g>
</a>
</g>
</g>
<g class="choice">
<path d=" M 249 66 h 24 m 232 0 h 96 m -45 0 l -5 -5 m 0 10 l 5 -5 m 45 0" />
<g class="sequence">
<a class="link" xlink:href="tokens.html#railroad-TUPLE_INDEX">
<g class="nonterminal">
<rect height="22" width="108" x="273" y="55" />
<text x="327" y="71">
TUPLE_INDEX</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="391" y="55" />
<text x="405" y="71">
:</text>
</g>
<a class="link" xlink:href="patterns.html#railroad-Pattern">
<g class="nonterminal">
<rect height="22" width="76" x="429" y="55" />
<text x="467" y="71">
Pattern</text>
</g>
</a>
<path d=" M 381 66 h 10" />
<path d=" M 419 66 h 10" />
</g>
<path d=" M 249 66 a 12 12 0 0 1 12 12 v 9 m 328 0 v -9 a 12 12 0 0 1 12 -12" />
<path d=" M 261 87 v 33 m 328 0 v -33" />
<path d=" M 261 87 v 0 a 12 12 0 0 0 12 12 m 224 0 h 80 m -37 0 l -5 -5 m 0 10 l 5 -5 m 37 0 a 12 12 0 0 0 12 -12 v 0" />
<g class="sequence">
<a class="link" xlink:href="identifiers.html#railroad-IDENTIFIER">
<g class="nonterminal">
<rect height="22" width="100" x="273" y="88" />
<text x="323" y="104">
IDENTIFIER</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="383" y="88" />
<text x="397" y="104">
:</text>
</g>
<a class="link" xlink:href="patterns.html#railroad-Pattern">
<g class="nonterminal">
<rect height="22" width="76" x="421" y="88" />
<text x="459" y="104">
Pattern</text>
</g>
</a>
<path d=" M 373 99 h 10" />
<path d=" M 411 99 h 10" />
</g>
<path d=" M 261 120 v 12 a 12 12 0 0 0 12 12 m 304 0 h 0 a 12 12 0 0 0 12 -12 v -12" />
<g class="sequence">
<g class="optional">
<path d=" M 273 144 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 44 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="297" y="133" />
<text x="319" y="149">
ref</text>
</g>
</g>
<g class="optional">
<path d=" M 375 144 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 44 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="399" y="133" />
<text x="421" y="149">
mut</text>
</g>
</g>
<a class="link" xlink:href="identifiers.html#railroad-IDENTIFIER">
<g class="nonterminal">
<rect height="22" width="100" x="477" y="133" />
<text x="527" y="149">
IDENTIFIER</text>
</g>
</a>
<path d=" M 365 144 h 10" />
<path d=" M 467 144 h 10" />
</g>
</g>
<path d=" M 239 66 h 10" />
</g>
<path d=" M 611 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 66 h 10" />
<path d=" M 601 66 h 10" />
</g>
</g>
</svg>
</div>

<div style="width: 184px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-StructPatternEtCetera"><svg class="railroad" viewbox="0 0 184 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-StructPatternEtCetera">
<text class="comment" x="92" y="25">
StructPatternEtCetera</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="35" y="42" />
<text x="53" y="58">
..</text>
</g>
<path d=" M 81 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 53 h 10" />
<path d=" M 71 53 h 10" />
</g>
</g>
</svg>
</div>

</div>

<div class="rule" id="r-patterns.struct.intro"><a class="rule-link" href="#r-patterns.struct.intro" title="patterns.struct.intro"><span>[patterns<wbr>.struct<wbr>.intro]</span></a>
</div>

<p>结构体模式匹配 结构体 、 枚举 和 联合体 值，这些值需满足其子模式定义的所有准则。
它们也用于 <a href="#destructuring">解构</a> 一个 结构体 、 枚举 或 联合体 值。</p>
<div class="rule" id="r-patterns.struct.ignore-rest"><a class="rule-link" href="#r-patterns.struct.ignore-rest" title="patterns.struct.ignore-rest"><span>[patterns<wbr>.struct<wbr>.ignore-rest]</span></a>
</div>

<p>在 结构体 模式中，字段通过名称、索引（在元组结构体的情况下）引用，或者使用 <code>..</code> 忽略：</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">struct Point {
</span><span class="boring">    x: u32,
</span><span class="boring">    y: u32,
</span><span class="boring">}
</span><span class="boring">let s = Point {x: 1, y: 1};
</span><span class="boring">
</span>match s {
    Point {x: 10, y: 20} =&gt; (),
    Point {y: 10, x: 20} =&gt; (),    // 顺序无关紧要
    Point {x: 10, ..} =&gt; (),
    Point {..} =&gt; (),
}

<span class="boring">struct PointTuple (
</span><span class="boring">    u32,
</span><span class="boring">    u32,
</span><span class="boring">);
</span><span class="boring">let t = PointTuple(1, 2);
</span><span class="boring">
</span>match t {
    PointTuple {0: 10, 1: 20} =&gt; (),
    PointTuple {1: 10, 0: 20} =&gt; (),   // 顺序无关紧要
    PointTuple {0: 10, ..} =&gt; (),
    PointTuple {..} =&gt; (),
}

<span class="boring">enum Message {
</span><span class="boring">    Quit,
</span><span class="boring">    Move { x: i32, y: i32 },
</span><span class="boring">}
</span><span class="boring">let m = Message::Quit;
</span><span class="boring">
</span>match m {
    Message::Quit =&gt; (),
    Message::Move {x: 10, y: 20} =&gt; (),
    Message::Move {..} =&gt; (),
}
<span class="boring">}</span></code></pre>
<div class="rule" id="r-patterns.struct.constraint-struct"><a class="rule-link" href="#r-patterns.struct.constraint-struct" title="patterns.struct.constraint-struct"><span>[patterns<wbr>.struct<wbr>.constraint-struct]</span></a>
</div>

<p>如果不使用 <code>..</code> ，则用于匹配 结构体 的 结构体 模式需要指定所有字段：</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">struct Struct {
</span><span class="boring">   a: i32,
</span><span class="boring">   b: char,
</span><span class="boring">   c: bool,
</span><span class="boring">}
</span><span class="boring">let mut struct_value = Struct{a: 10, b: 'X', c: false};
</span><span class="boring">
</span>match struct_value {
    Struct{a: 10, b: 'X', c: false} =&gt; (),
    Struct{a: 10, b: 'X', ref c} =&gt; (),
    Struct{a: 10, b: 'X', ref mut c} =&gt; (),
    Struct{a: 10, b: 'X', c: _} =&gt; (),
    Struct{a: _, b: _, c: _} =&gt; (),
}
<span class="boring">}</span></code></pre>
<div class="rule" id="r-patterns.struct.constraint-union"><a class="rule-link" href="#r-patterns.struct.constraint-union" title="patterns.struct.constraint-union"><span>[patterns<wbr>.struct<wbr>.constraint-union]</span></a>
</div>

<p>用于匹配 联合体 的 结构体 模式必须恰好指定一个字段（参见 <a href="items/unions.html#在联合体上进行模式匹配">在联合体上进行模式匹配</a> ）。</p>
<div class="rule" id="r-patterns.struct.binding-shorthand"><a class="rule-link" href="#r-patterns.struct.binding-shorthand" title="patterns.struct.binding-shorthand"><span>[patterns<wbr>.struct<wbr>.binding-shorthand]</span></a>
</div>

<p><a href="identifiers.html#grammar-IDENTIFIER">IDENTIFIER</a> 语法格式匹配任何值，并将其绑定到与给定字段同名的变量。它是 <code>fieldname: fieldname</code> 的简写。 <code>ref</code> 和 <code>mut</code> 限定符可以包含在内，其行为如 <a href="patterns.html#r-patterns.ident.ref">patterns.ident.ref</a> 中所述。</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">struct Struct {
</span><span class="boring">   a: i32,
</span><span class="boring">   b: char,
</span><span class="boring">   c: bool,
</span><span class="boring">}
</span><span class="boring">let struct_value = Struct{a: 10, b: 'X', c: false};
</span><span class="boring">
</span>let Struct { a, b, c } = struct_value;
<span class="boring">}</span></code></pre>
<div class="rule" id="r-patterns.struct.refutable"><a class="rule-link" href="#r-patterns.struct.refutable" title="patterns.struct.refutable"><span>[patterns<wbr>.struct<wbr>.refutable]</span></a>
</div>

<p>如果 <a href="paths.html#grammar-PathInExpression">PathInExpression</a> 解析为具有多个变体的枚举构造函数，或者其子模式之一是可反驳的，则 结构体 模式是可反驳的。</p>
<div class="rule" id="r-patterns.struct.namespace"><a class="rule-link" href="#r-patterns.struct.namespace" title="patterns.struct.namespace"><span>[patterns<wbr>.struct<wbr>.namespace]</span></a>
</div>

<p>结构体 模式根据从 <a href="names/namespaces.html#r-names.namespaces.kinds">类型命名空间</a> 中的 <a href="paths.html#grammar-PathInExpression">PathInExpression</a> 解析出的 结构体 、 联合体 或枚举变体进行匹配。有关更多详细信息，请参见 <a href="patterns.html#r-patterns.tuple-struct.namespace">patterns.tuple-struct.namespace</a> 。</p>
<div class="rule" id="r-patterns.tuple-struct"><a class="rule-link" href="#r-patterns.tuple-struct" title="patterns.tuple-struct"><span>[patterns<wbr>.tuple-struct]</span></a>
</div>

<h2 id="元组结构体模式"><a class="header" href="#元组结构体模式">元组结构体模式</a></h2>
<div class="rule" id="r-patterns.tuple-struct.syntax"><a class="rule-link" href="#r-patterns.tuple-struct.syntax" title="patterns.tuple-struct.syntax"><span>[patterns<wbr>.tuple-struct<wbr>.syntax]</span></a>
</div>

<div class="grammar-container">
<p><strong><sup>Syntax</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-TupleStructPattern" onclick="show_railroad()"><a href="patterns.html#railroad-TupleStructPattern">TupleStructPattern</a></span> → <span class="grammar-text"><a href="paths.html#grammar-PathInExpression">PathInExpression</a></span> <span class="grammar-literal">(</span> <span class="grammar-text"><a href="patterns.html#grammar-TupleStructItems">TupleStructItems</a></span><sup>?</sup> <span class="grammar-literal">)</span></p>
<p><span class="grammar-text grammar-production" id="grammar-TupleStructItems" onclick="show_railroad()"><a href="patterns.html#railroad-TupleStructItems">TupleStructItems</a></span> → <span class="grammar-text"><a href="patterns.html#grammar-Pattern">Pattern</a></span> ( <span class="grammar-literal">,</span> <span class="grammar-text"><a href="patterns.html#grammar-Pattern">Pattern</a></span> )<sup>*</sup> <span class="grammar-literal">,</span><sup>?</sup></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>

<div class="grammar-railroad grammar-hidden">
<div style="width: 500px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-TupleStructPattern"><svg class="railroad" viewbox="0 0 500 87" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-TupleStructPattern">
<text class="comment" x="78" y="25">
TupleStructPattern</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="sequence">
<a class="link" xlink:href="paths.html#railroad-PathInExpression">
<g class="nonterminal">
<rect height="22" width="148" x="35" y="55" />
<text x="109" y="71">
PathInExpression</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="193" y="55" />
<text x="207" y="71">
(</text>
</g>
<g class="optional">
<path d=" M 231 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 148 m -71 0 l -5 -5 m 0 10 l 5 -5 m 71 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<a class="link" xlink:href="patterns.html#railroad-TupleStructItems">
<g class="nonterminal">
<rect height="22" width="148" x="255" y="55" />
<text x="329" y="71">
TupleStructItems</text>
</g>
</a>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="437" y="55" />
<text x="451" y="71">
)</text>
</g>
<path d=" M 183 66 h 10" />
<path d=" M 221 66 h 10" />
<path d=" M 427 66 h 10" />
</g>
<path d=" M 475 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 66 h 10" />
<path d=" M 465 66 h 10" />
</g>
</g>
</svg>
</div>

<div style="width: 428px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-TupleStructItems"><svg class="railroad" viewbox="0 0 428 100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-TupleStructItems">
<text class="comment" x="71" y="25">
TupleStructItems</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-Pattern">
<g class="nonterminal">
<rect height="22" width="76" x="35" y="55" />
<text x="73" y="71">
Pattern</text>
</g>
</a>
<g class="optional">
<path d=" M 121 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 138 m -66 0 l -5 -5 m 0 10 l 5 -5 m 66 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<g class="repeat">
<path d=" M 145 66 h 12 m 114 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -114 m 60 0 l 5 -5 m 0 10 l -5 -5 m -60 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12" />
<g />
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="157" y="55" />
<text x="171" y="71">
,</text>
</g>
<a class="link" xlink:href="patterns.html#railroad-Pattern">
<g class="nonterminal">
<rect height="22" width="76" x="195" y="55" />
<text x="233" y="71">
Pattern</text>
</g>
</a>
<path d=" M 185 66 h 10" />
</g>
</g>
</g>
<g class="optional">
<path d=" M 317 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 28 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="341" y="55" />
<text x="355" y="71">
,</text>
</g>
</g>
<path d=" M 111 66 h 10" />
<path d=" M 307 66 h 10" />
</g>
<path d=" M 403 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 66 h 10" />
<path d=" M 393 66 h 10" />
</g>
</g>
</svg>
</div>

</div>

<div class="rule" id="r-patterns.tuple-struct.intro"><a class="rule-link" href="#r-patterns.tuple-struct.intro" title="patterns.tuple-struct.intro"><span>[patterns<wbr>.tuple-struct<wbr>.intro]</span></a>
</div>

<p>元组结构体模式匹配元组结构体和枚举值，这些值需满足其子模式定义的所有准则。
它们也用于 <a href="#destructuring">解构</a> 元组结构体或枚举值。</p>
<div class="rule" id="r-patterns.tuple-struct.refutable"><a class="rule-link" href="#r-patterns.tuple-struct.refutable" title="patterns.tuple-struct.refutable"><span>[patterns<wbr>.tuple-struct<wbr>.refutable]</span></a>
</div>

<p>如果 <a href="paths.html#grammar-PathInExpression">PathInExpression</a> 解析为具有多个变体的枚举构造函数，或者其子模式之一是可反驳的，则元组结构体模式是可反驳的。</p>
<div class="rule" id="r-patterns.tuple-struct.namespace"><a class="rule-link" href="#r-patterns.tuple-struct.namespace" title="patterns.tuple-struct.namespace"><span>[patterns<wbr>.tuple-struct<wbr>.namespace]</span></a>
</div>

<p>元组结构体模式根据从 <a href="names/namespaces.html#r-names.namespaces.kinds">值命名空间</a> 中的 <a href="paths.html#grammar-PathInExpression">PathInExpression</a> 解析出的元组结构体或 <a href="items/enumerations.html#r-items.enum.tuple-expr">类元组枚举变体</a> 进行匹配。</p>
<div class="alert alert-note">
<blockquote>
<p class="alert-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>注意</p>

<p>Conversely, a struct pattern for a tuple struct or <a href="items/enumerations.html#r-items.enum.tuple-expr">tuple-like enum variant</a>, e.g. <code>S { 0: _ }</code>, matches against the tuple struct or variant whose constructor is resolved in the <a href="names/namespaces.html#r-names.namespaces.kinds">type namespace</a>.</p>
<pre class="playground"><code class="language-rust no_run edition2024">enum E1 { V(u16) }
enum E2 { V(u32) }

// 只从类型命名空间导入 `E1::V`。
mod _0 {
    const V: () = (); // 用于命名空间掩蔽。
    pub(super) use super::E1::*;
}
use _0::*;

// 只从值命名空间导入 `E2::V`。
mod _1 {
    struct V {} // 用于命名空间掩蔽。
    pub(super) use super::E2::*;
}
use _1::*;

fn f() {
    // 此结构体模式根据在类型命名空间中
    // 找到其构造函数的类元组枚举变体
    // 进行匹配。
    let V { 0: ..=u16::MAX } = (loop {}) else { loop {} };
    // 此元组结构体模式根据在值命名空间中
    // 找到其构造函数的类元组枚举变体
    // 进行匹配。
    let V(..=u32::MAX) = (loop {}) else { loop {} };
}
<span class="boring">// 在函数中使用 super 的奇怪行为所必需的。
</span><span class="boring">fn main() {}</span></code></pre>
<p>The Lang team has made certain decisions, such as in <a href="https://github.com/rust-lang/rust/pull/138458">PR #138458</a>, that raise questions about the desirability of using the value namespace in this way for patterns, as described in <a href="https://github.com/rust-lang/rust/pull/140593#issuecomment-2972338457">PR #140593</a>. It might be prudent to not intentionally rely on this nuance in your code.</p>
</blockquote>
</div>

<div class="rule" id="r-patterns.tuple"><a class="rule-link" href="#r-patterns.tuple" title="patterns.tuple"><span>[patterns<wbr>.tuple]</span></a>
</div>

<h2 id="元组模式"><a class="header" href="#元组模式">元组模式</a></h2>
<div class="rule" id="r-patterns.tuple.syntax"><a class="rule-link" href="#r-patterns.tuple.syntax" title="patterns.tuple.syntax"><span>[patterns<wbr>.tuple<wbr>.syntax]</span></a>
</div>

<div class="grammar-container">
<p><strong><sup>Syntax</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-TuplePattern" onclick="show_railroad()"><a href="patterns.html#railroad-TuplePattern">TuplePattern</a></span> → <span class="grammar-literal">(</span> <span class="grammar-text"><a href="patterns.html#grammar-TuplePatternItems">TuplePatternItems</a></span><sup>?</sup> <span class="grammar-literal">)</span></p>
<p><span class="grammar-text grammar-production" id="grammar-TuplePatternItems" onclick="show_railroad()"><a href="patterns.html#railroad-TuplePatternItems">TuplePatternItems</a></span> → <br>      <span class="grammar-text"><a href="patterns.html#grammar-Pattern">Pattern</a></span> <span class="grammar-literal">,</span> <br>    | <span class="grammar-text"><a href="patterns.html#grammar-RestPattern">RestPattern</a></span> <br>    | <span class="grammar-text"><a href="patterns.html#grammar-Pattern">Pattern</a></span> ( <span class="grammar-literal">,</span> <span class="grammar-text"><a href="patterns.html#grammar-Pattern">Pattern</a></span> )<sup>+</sup> <span class="grammar-literal">,</span><sup>?</sup></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>

<div class="grammar-railroad grammar-hidden">
<div style="width: 350px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-TuplePattern"><svg class="railroad" viewbox="0 0 350 87" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-TuplePattern">
<text class="comment" x="57" y="25">
TuplePattern</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="35" y="55" />
<text x="49" y="71">
(</text>
</g>
<g class="optional">
<path d=" M 73 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 156 m -75 0 l -5 -5 m 0 10 l 5 -5 m 75 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<a class="link" xlink:href="patterns.html#railroad-TuplePatternItems">
<g class="nonterminal">
<rect height="22" width="156" x="97" y="55" />
<text x="175" y="71">
TuplePatternItems</text>
</g>
</a>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="287" y="55" />
<text x="301" y="71">
)</text>
</g>
<path d=" M 63 66 h 10" />
<path d=" M 277 66 h 10" />
</g>
<path d=" M 325 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 66 h 10" />
<path d=" M 315 66 h 10" />
</g>
</g>
</svg>
</div>

<div style="width: 428px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-TuplePatternItems"><svg class="railroad" viewbox="0 0 428 165" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-TuplePatternItems">
<text class="comment" x="74" y="25">
TuplePatternItems</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="choice">
<path d=" M 35 53 h 24 m 114 0 h 220 m -107 0 l -5 -5 m 0 10 l 5 -5 m 107 0" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-Pattern">
<g class="nonterminal">
<rect height="22" width="76" x="59" y="42" />
<text x="97" y="58">
Pattern</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="145" y="42" />
<text x="159" y="58">
,</text>
</g>
<path d=" M 135 53 h 10" />
</g>
<path d=" M 35 53 a 12 12 0 0 1 12 12 v 9 m 334 0 v -9 a 12 12 0 0 1 12 -12" />
<path d=" M 47 74 v 33 m 334 0 v -33" />
<path d=" M 47 74 v 0 a 12 12 0 0 0 12 12 m 108 0 h 202 m -98 0 l -5 -5 m 0 10 l 5 -5 m 98 0 a 12 12 0 0 0 12 -12 v 0" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-RestPattern">
<g class="nonterminal">
<rect height="22" width="108" x="59" y="75" />
<text x="113" y="91">
RestPattern</text>
</g>
</a>
</g>
<path d=" M 47 107 v 12 a 12 12 0 0 0 12 12 m 310 0 h 0 a 12 12 0 0 0 12 -12 v -12" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-Pattern">
<g class="nonterminal">
<rect height="22" width="76" x="59" y="120" />
<text x="97" y="136">
Pattern</text>
</g>
</a>
<g class="repeat">
<path d=" M 145 131 h 12 m 114 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -114 m 60 0 l 5 -5 m 0 10 l -5 -5 m -60 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12" />
<g />
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="157" y="120" />
<text x="171" y="136">
,</text>
</g>
<a class="link" xlink:href="patterns.html#railroad-Pattern">
<g class="nonterminal">
<rect height="22" width="76" x="195" y="120" />
<text x="233" y="136">
Pattern</text>
</g>
</a>
<path d=" M 185 131 h 10" />
</g>
</g>
<g class="optional">
<path d=" M 293 131 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 28 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="317" y="120" />
<text x="331" y="136">
,</text>
</g>
</g>
<path d=" M 135 131 h 10" />
<path d=" M 283 131 h 10" />
</g>
</g>
<path d=" M 403 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 53 h 10" />
<path d=" M 393 53 h 10" />
</g>
</g>
</svg>
</div>

</div>

<div class="rule" id="r-patterns.tuple.intro"><a class="rule-link" href="#r-patterns.tuple.intro" title="patterns.tuple.intro"><span>[patterns<wbr>.tuple<wbr>.intro]</span></a>
</div>

<p>元组模式匹配满足其子模式定义的所有准则的元组值。
它们也用于 <a href="#destructuring">解构</a> 元组。</p>
<div class="rule" id="r-patterns.tuple.rest-syntax"><a class="rule-link" href="#r-patterns.tuple.rest-syntax" title="patterns.tuple.rest-syntax"><span>[patterns<wbr>.tuple<wbr>.rest-syntax]</span></a>
</div>

<p>带有单个 <a href="patterns.html#grammar-RestPattern">RestPattern</a> 的形式 <code>(..)</code> 是一种特殊形式，不需要逗号，并且匹配任何大小的元组。</p>
<div class="rule" id="r-patterns.tuple.refutable"><a class="rule-link" href="#r-patterns.tuple.refutable" title="patterns.tuple.refutable"><span>[patterns<wbr>.tuple<wbr>.refutable]</span></a>
</div>

<p>当元组模式的一个子模式是可反驳的时，该元组模式是可反驳的。</p>
<p>使用元组模式的示例：</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let pair = (10, "ten");
let (a, b) = pair;

assert_eq!(a, 10);
assert_eq!(b, "ten");
<span class="boring">}</span></code></pre>
<div class="rule" id="r-patterns.paren"><a class="rule-link" href="#r-patterns.paren" title="patterns.paren"><span>[patterns<wbr>.paren]</span></a>
</div>

<h2 id="分组模式"><a class="header" href="#分组模式">分组模式</a></h2>
<div class="rule" id="r-patterns.paren.syntax"><a class="rule-link" href="#r-patterns.paren.syntax" title="patterns.paren.syntax"><span>[patterns<wbr>.paren<wbr>.syntax]</span></a>
</div>

<div class="grammar-container">
<p><strong><sup>Syntax</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-GroupedPattern" onclick="show_railroad()"><a href="patterns.html#railroad-GroupedPattern">GroupedPattern</a></span> → <span class="grammar-literal">(</span> <span class="grammar-text"><a href="patterns.html#grammar-Pattern">Pattern</a></span> <span class="grammar-literal">)</span></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>

<div class="grammar-railroad grammar-hidden">
<div style="width: 222px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-GroupedPattern"><svg class="railroad" viewbox="0 0 222 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-GroupedPattern">
<text class="comment" x="64" y="25">
GroupedPattern</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="35" y="42" />
<text x="49" y="58">
(</text>
</g>
<a class="link" xlink:href="patterns.html#railroad-Pattern">
<g class="nonterminal">
<rect height="22" width="76" x="73" y="42" />
<text x="111" y="58">
Pattern</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="159" y="42" />
<text x="173" y="58">
)</text>
</g>
<path d=" M 63 53 h 10" />
<path d=" M 149 53 h 10" />
</g>
<path d=" M 197 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 53 h 10" />
<path d=" M 187 53 h 10" />
</g>
</g>
</svg>
</div>

</div>

<div class="rule" id="r-patterns.paren.intro"><a class="rule-link" href="#r-patterns.paren.intro" title="patterns.paren.intro"><span>[patterns<wbr>.paren<wbr>.intro]</span></a>
</div>

<p>将模式括在括号中可用于显式控制复合模式的优先级。
例如，紧邻范围模式的引用模式（如 <code>&amp;0..=5</code> ）具有歧义且不被允许，但可以用括号表示。</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let int_reference = &amp;3;
match int_reference {
    &amp;(0..=5) =&gt; (),
    _ =&gt; (),
}
<span class="boring">}</span></code></pre>
<div class="rule" id="r-patterns.slice"><a class="rule-link" href="#r-patterns.slice" title="patterns.slice"><span>[patterns<wbr>.slice]</span></a>
</div>

<h2 id="切片模式"><a class="header" href="#切片模式">切片模式</a></h2>
<div class="rule" id="r-patterns.slice.syntax"><a class="rule-link" href="#r-patterns.slice.syntax" title="patterns.slice.syntax"><span>[patterns<wbr>.slice<wbr>.syntax]</span></a>
</div>

<div class="grammar-container">
<p><strong><sup>Syntax</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-SlicePattern" onclick="show_railroad()"><a href="patterns.html#railroad-SlicePattern">SlicePattern</a></span> → <span class="grammar-literal">[</span> <span class="grammar-text"><a href="patterns.html#grammar-SlicePatternItems">SlicePatternItems</a></span><sup>?</sup> <span class="grammar-literal">]</span></p>
<p><span class="grammar-text grammar-production" id="grammar-SlicePatternItems" onclick="show_railroad()"><a href="patterns.html#railroad-SlicePatternItems">SlicePatternItems</a></span> → <span class="grammar-text"><a href="patterns.html#grammar-Pattern">Pattern</a></span> ( <span class="grammar-literal">,</span> <span class="grammar-text"><a href="patterns.html#grammar-Pattern">Pattern</a></span> )<sup>*</sup> <span class="grammar-literal">,</span><sup>?</sup></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>

<div class="grammar-railroad grammar-hidden">
<div style="width: 350px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-SlicePattern"><svg class="railroad" viewbox="0 0 350 87" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-SlicePattern">
<text class="comment" x="57" y="25">
SlicePattern</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="35" y="55" />
<text x="49" y="71">
[</text>
</g>
<g class="optional">
<path d=" M 73 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 156 m -75 0 l -5 -5 m 0 10 l 5 -5 m 75 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<a class="link" xlink:href="patterns.html#railroad-SlicePatternItems">
<g class="nonterminal">
<rect height="22" width="156" x="97" y="55" />
<text x="175" y="71">
SlicePatternItems</text>
</g>
</a>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="287" y="55" />
<text x="301" y="71">
]</text>
</g>
<path d=" M 63 66 h 10" />
<path d=" M 277 66 h 10" />
</g>
<path d=" M 325 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 66 h 10" />
<path d=" M 315 66 h 10" />
</g>
</g>
</svg>
</div>

<div style="width: 428px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-SlicePatternItems"><svg class="railroad" viewbox="0 0 428 100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-SlicePatternItems">
<text class="comment" x="74" y="25">
SlicePatternItems</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="sequence">
<a class="link" xlink:href="patterns.html#railroad-Pattern">
<g class="nonterminal">
<rect height="22" width="76" x="35" y="55" />
<text x="73" y="71">
Pattern</text>
</g>
</a>
<g class="optional">
<path d=" M 121 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 138 m -66 0 l -5 -5 m 0 10 l 5 -5 m 66 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<g class="repeat">
<path d=" M 145 66 h 12 m 114 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -114 m 60 0 l 5 -5 m 0 10 l -5 -5 m -60 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12" />
<g />
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="157" y="55" />
<text x="171" y="71">
,</text>
</g>
<a class="link" xlink:href="patterns.html#railroad-Pattern">
<g class="nonterminal">
<rect height="22" width="76" x="195" y="55" />
<text x="233" y="71">
Pattern</text>
</g>
</a>
<path d=" M 185 66 h 10" />
</g>
</g>
</g>
<g class="optional">
<path d=" M 317 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 28 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="341" y="55" />
<text x="355" y="71">
,</text>
</g>
</g>
<path d=" M 111 66 h 10" />
<path d=" M 307 66 h 10" />
</g>
<path d=" M 403 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 66 h 10" />
<path d=" M 393 66 h 10" />
</g>
</g>
</svg>
</div>

</div>

<div class="rule" id="r-patterns.slice.intro"><a class="rule-link" href="#r-patterns.slice.intro" title="patterns.slice.intro"><span>[patterns<wbr>.slice<wbr>.intro]</span></a>
</div>

<p>切片模式既可以匹配固定大小的数组，也可以匹配动态大小的切片。</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// 固定大小
let arr = [1, 2, 3];
match arr {
    [1, _, _] =&gt; "starts with one",
    [a, b, c] =&gt; "starts with something else",
};
<span class="boring">}</span></code></pre>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// 动态大小
let v = vec![1, 2, 3];
match v[..] {
    [a, b] =&gt; { /* 此臂不适用，因为长度不匹配 */ }
    [a, b, c] =&gt; { /* 此臂将适用 */ }
    _ =&gt; { /* 此通配符是必需的，因为长度在静态时是未知的 */ }
};
<span class="boring">}</span></code></pre>
<div class="rule" id="r-patterns.slice.refutable-array"><a class="rule-link" href="#r-patterns.slice.refutable-array" title="patterns.slice.refutable-array"><span>[patterns<wbr>.slice<wbr>.refutable-array]</span></a>
</div>

<p>匹配数组时，只要每个元素都是不可反驳的，切片模式就是不可反驳的。</p>
<div class="rule" id="r-patterns.slice.refutable-slice"><a class="rule-link" href="#r-patterns.slice.refutable-slice" title="patterns.slice.refutable-slice"><span>[patterns<wbr>.slice<wbr>.refutable-slice]</span></a>
</div>

<p>匹配切片时，只有在具有单个 <code>..</code> <a href="patterns.html#r-patterns.rest">剩余模式</a> 或以 <code>..</code> 剩余模式作为子模式的 <a href="#identifier-patterns">标识符模式</a> 的形式下，它才是不可反驳的。</p>
<div class="rule" id="r-patterns.slice.restriction"><a class="rule-link" href="#r-patterns.slice.restriction" title="patterns.slice.restriction"><span>[patterns<wbr>.slice<wbr>.restriction]</span></a>
</div>

<p>在切片内，没有下边界和上边界的范围模式必须括在括号中（如 <code>(a..)</code> ），以澄清其目的是匹配单个切片元素。
具有下边界和上边界的范围模式（如 <code>a..=b</code> ）不需要括在括号中。</p>
<div class="rule" id="r-patterns.path"><a class="rule-link" href="#r-patterns.path" title="patterns.path"><span>[patterns<wbr>.path]</span></a>
</div>

<h2 id="路径模式"><a class="header" href="#路径模式">路径模式</a></h2>
<div class="rule" id="r-patterns.path.syntax"><a class="rule-link" href="#r-patterns.path.syntax" title="patterns.path.syntax"><span>[patterns<wbr>.path<wbr>.syntax]</span></a>
</div>

<div class="grammar-container">
<p><strong><sup>Syntax</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-PathPattern" onclick="show_railroad()"><a href="patterns.html#railroad-PathPattern">PathPattern</a></span> → <span class="grammar-text"><a href="expressions/path-expr.html#grammar-PathExpression">PathExpression</a></span></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>

<div class="grammar-railroad grammar-hidden">
<div style="width: 202px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-PathPattern"><svg class="railroad" viewbox="0 0 202 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="patterns.html#grammar-PathPattern">
<text class="comment" x="53" y="25">
PathPattern</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<a class="link" xlink:href="expressions/path-expr.html#railroad-PathExpression">
<g class="nonterminal">
<rect height="22" width="132" x="35" y="42" />
<text x="101" y="58">
PathExpression</text>
</g>
</a>
<path d=" M 177 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 53 h 10" />
<path d=" M 167 53 h 10" />
</g>
</g>
</svg>
</div>

</div>

<div class="rule" id="r-patterns.path.intro"><a class="rule-link" href="#r-patterns.path.intro" title="patterns.path.intro"><span>[patterns<wbr>.path<wbr>.intro]</span></a>
</div>

<p><em>路径模式</em> 是指常量值、或者没有字段的 结构体 或枚举变体的模式。</p>
<div class="rule" id="r-patterns.path.unqualified"><a class="rule-link" href="#r-patterns.path.unqualified" title="patterns.path.unqualified"><span>[patterns<wbr>.path<wbr>.unqualified]</span></a>
</div>

<p>未限定路径模式可以引用：</p>
<ul>
<li>枚举变体</li>
<li>结构体</li>
<li>常量</li>
<li>关联常量</li>
</ul>
<div class="rule" id="r-patterns.path.qualified"><a class="rule-link" href="#r-patterns.path.qualified" title="patterns.path.qualified"><span>[patterns<wbr>.path<wbr>.qualified]</span></a>
</div>

<p>限定路径模式只能引用关联常量。</p>
<div class="rule" id="r-patterns.path.refutable"><a class="rule-link" href="#r-patterns.path.refutable" title="patterns.path.refutable"><span>[patterns<wbr>.path<wbr>.refutable]</span></a>
</div>

<p>当路径模式引用 结构体 或只有一个变体的枚举变体，或者引用其类型不可反驳的常量时，它们是不可反驳的。
当它们引用可反驳的常量或具有多个变体的枚举变体时，它们是可反驳的。</p>
<div class="rule" id="r-patterns.const"><a class="rule-link" href="#r-patterns.const" title="patterns.const"><span>[patterns<wbr>.const]</span></a>
</div>

<h3 id="常量模式"><a class="header" href="#常量模式">常量模式</a></h3>
<div class="rule" id="r-patterns.const.partial-eq"><a class="rule-link" href="#r-patterns.const.partial-eq" title="patterns.const.partial-eq"><span>[patterns<wbr>.const<wbr>.partial-eq]</span></a>
</div>

<p>当 <code>T</code> 类型的常量 <code>C</code> 用作模式时，我们首先检查 <code>T: PartialEq</code> 。</p>
<div class="rule" id="r-patterns.const.structural-equality"><a class="rule-link" href="#r-patterns.const.structural-equality" title="patterns.const.structural-equality"><span>[patterns<wbr>.const<wbr>.structural-equality]</span></a>
</div>

<p>此外，我们要求 <code>C</code> 的值 <em>具有（递归）结构相等性</em> ，其递归定义如下：</p>
<div class="rule" id="r-patterns.const.primitive"><a class="rule-link" href="#r-patterns.const.primitive" title="patterns.const.primitive"><span>[patterns<wbr>.const<wbr>.primitive]</span></a>
</div>

<ul>
<li>整数以及 <code>str</code> 、 <code>bool</code> 和 <code>char</code> 值始终具有结构相等性。</li>
</ul>
<div class="rule" id="r-patterns.const.builtin-aggregate"><a class="rule-link" href="#r-patterns.const.builtin-aggregate" title="patterns.const.builtin-aggregate"><span>[patterns<wbr>.const<wbr>.builtin-aggregate]</span></a>
</div>

<ul>
<li>如果元组、数组和切片的所有字段/元素都具有结构相等性，则它们具有结构相等性。
（特别是， <code>()</code> 和 <code>[]</code> 始终具有结构相等性。）</li>
</ul>
<div class="rule" id="r-patterns.const.ref"><a class="rule-link" href="#r-patterns.const.ref" title="patterns.const.ref"><span>[patterns<wbr>.const<wbr>.ref]</span></a>
</div>

<ul>
<li>如果引用指向的值具有结构相等性，则该引用具有结构相等性。</li>
</ul>
<div class="rule" id="r-patterns.const.aggregate"><a class="rule-link" href="#r-patterns.const.aggregate" title="patterns.const.aggregate"><span>[patterns<wbr>.const<wbr>.aggregate]</span></a>
</div>

<ul>
<li>如果 结构体 或 枚举 类型的值其 <code>PartialEq</code> 实例是通过 <code>#[derive(PartialEq)]</code> 派生的，并且所有字段（对于枚举：活跃变体的字段）都具有结构相等性，则该值具有结构相等性。</li>
</ul>
<div class="rule" id="r-patterns.const.pointer"><a class="rule-link" href="#r-patterns.const.pointer" title="patterns.const.pointer"><span>[patterns<wbr>.const<wbr>.pointer]</span></a>
</div>

<ul>
<li>如果原始指针被定义为常量整数（然后进行转换/变形），则它具有结构相等性。</li>
</ul>
<div class="rule" id="r-patterns.const.float"><a class="rule-link" href="#r-patterns.const.float" title="patterns.const.float"><span>[patterns<wbr>.const<wbr>.float]</span></a>
</div>

<ul>
<li>如果浮点值不是 <code>NaN</code> ，则它具有结构相等性。</li>
</ul>
<div class="rule" id="r-patterns.const.exhaustive"><a class="rule-link" href="#r-patterns.const.exhaustive" title="patterns.const.exhaustive"><span>[patterns<wbr>.const<wbr>.exhaustive]</span></a>
</div>

<ul>
<li>其他任何东西都不具有结构相等性。</li>
</ul>
<div class="rule" id="r-patterns.const.generic"><a class="rule-link" href="#r-patterns.const.generic" title="patterns.const.generic"><span>[patterns<wbr>.const<wbr>.generic]</span></a>
</div>

<p>特别地， <code>C</code> 的值必须在模式构建时（即预单态化阶段）已知。
这意味着涉及 泛型 参数的关联常量不能用作模式。</p>
<div class="rule" id="r-patterns.const.immutable"><a class="rule-link" href="#r-patterns.const.immutable" title="patterns.const.immutable"><span>[patterns<wbr>.const<wbr>.immutable]</span></a>
</div>

<p><code>C</code> 的值不能包含对可变静态变量（ <code>static mut</code> 项 或内部可变 <code>static</code> 项）或 <code>extern</code> 静态变量的任何引用。</p>
<div class="rule" id="r-patterns.const.translation"><a class="rule-link" href="#r-patterns.const.translation" title="patterns.const.translation"><span>[patterns<wbr>.const<wbr>.translation]</span></a>
</div>

<p>在确保满足所有条件后，常量值将被转换为模式，其行为现在完全就像直接编写了该模式一样。
特别是，它完全参与穷尽性检查。
（对于原始指针，常量是编写此类模式的唯一方法。对于这些类型，只有 <code>_</code> 被认为是穷尽的。）</p>
<div class="rule" id="r-patterns.or"><a class="rule-link" href="#r-patterns.or" title="patterns.or"><span>[patterns<wbr>.or]</span></a>
</div>

<h2 id="或模式"><a class="header" href="#或模式">或模式</a></h2>
<p><em>或模式</em> 是匹配两个或多个子模式之一的模式（例如 <code>A | B | C</code> ）。
它们可以任意嵌套。
从 语法格式 上讲，或模式允许出现在允许其他模式出现的任何地方（由 <a href="patterns.html#grammar-Pattern">Pattern</a> 产生式表示），但 <code>let</code> 绑定以及函数和闭包参数（由 <a href="patterns.html#grammar-PatternNoTopAlt">PatternNoTopAlt</a> 产生式表示）除外。</p>
<div class="rule" id="r-patterns.constraints"><a class="rule-link" href="#r-patterns.constraints" title="patterns.constraints"><span>[patterns<wbr>.constraints]</span></a>
</div>

<h3 id="静态语义"><a class="header" href="#静态语义">静态语义</a></h3>
<div class="rule" id="r-patterns.constraints.pattern"><a class="rule-link" href="#r-patterns.constraints.pattern" title="patterns.constraints.pattern"><span>[patterns<wbr>.constraints<wbr>.pattern]</span></a>
</div>

<ol>
<li>
<p>给定某种深度的模式 <code>p | q</code> （对于任意模式 <code>p</code> 和 <code>q</code> ），如果满足以下条件，则认为该模式是格式不良的：</p>
<ul>
<li>为 <code>p</code> 推断出的类型与为 <code>q</code> 推断出的类型不统一，或者</li>
<li><code>p</code> 和 <code>q</code> 中没有引入相同的绑定集，或者</li>
<li><code>p</code> 和 <code>q</code> 中具有相同名称的任何两个绑定的类型在类型或绑定模式方面不统一。</li>
</ul>
<p>在上述所有实例中，类型的统一都是精确的，且隐式 <a href="type-coercions.html">类型强制转换</a> 不适用。</p>
</li>
</ol>
<div class="rule" id="r-patterns.constraints.match-type-check"><a class="rule-link" href="#r-patterns.constraints.match-type-check" title="patterns.constraints.match-type-check"><span>[patterns<wbr>.constraints<wbr>.match-type-check]</span></a>
</div>

<ol start="2">
<li>在对表达式 <code>match e_s { a_1 =&gt; e_1, ... a_n =&gt; e_n }</code> 进行类型检查时，对于包含 <code>p_i | q_i</code> 形式模式的每个 match 臂 <code>a_i</code> ，如果在其存在的深度 <code>d</code> 处， <code>e_s</code> 在深度 <code>d</code> 处的片段类型与 <code>p_i | q_i</code> 不统一，则模式 <code>p_i | q_i</code> 被认为是格式不良的。</li>
</ol>
<div class="rule" id="r-patterns.constraints.exhaustiveness-or-pattern"><a class="rule-link" href="#r-patterns.constraints.exhaustiveness-or-pattern" title="patterns.constraints.exhaustiveness-or-pattern"><span>[patterns<wbr>.constraints<wbr>.exhaustiveness-or-pattern]</span></a>
</div>

<ol start="3">
<li>
<p>关于穷尽性检查，模式 <code>p | q</code> 被视为同时覆盖了 <code>p</code> 和 <code>q</code> 。
对于某些构造函数 <code>c(x, ..)</code> ，分配律适用，使得 <code>c(p | q, ..rest)</code> 覆盖的值集与 <code>c(p, ..rest) | c(q, ..rest)</code> 覆盖的值集相同。
这可以递归应用，直到除了存在于顶层的模式之外，不再有 <code>p | q</code> 形式的嵌套模式。</p>
<p>请注意，这里的 “构造函数” 指的不是元组结构体模式，而是指任何乘积类型的模式。
这包括枚举变体、元组结构体、具有命名字段的 结构体 、数组、元组和切片。</p>
</li>
</ol>
<div class="rule" id="r-patterns.behavior"><a class="rule-link" href="#r-patterns.behavior" title="patterns.behavior"><span>[patterns<wbr>.behavior]</span></a>
</div>

<h3 id="动态语义"><a class="header" href="#动态语义">动态语义</a></h3>
<div class="rule" id="r-patterns.behavior.nested-or-patterns"><a class="rule-link" href="#r-patterns.behavior.nested-or-patterns" title="patterns.behavior.nested-or-patterns"><span>[patterns<wbr>.behavior<wbr>.nested-or-patterns]</span></a>
</div>

<ol>
<li>在深度 <code>d</code> 处，将 <a href="glossary.html#审查值">被匹配</a> 表达式 <code>e_s</code> 与模式 <code>c(p | q, ..rest)</code> 进行模式匹配的动态语义（其中 <code>c</code> 是某种构造函数， <code>p</code> 和 <code>q</code> 是任意模式， <code>rest</code> 是 <code>c</code> 中可选的任何剩余潜在因子）被定义为与 <code>c(p, ..rest) | c(q, ..rest)</code> 的动态语义相同。</li>
</ol>
<div class="rule" id="r-patterns.precedence"><a class="rule-link" href="#r-patterns.precedence" title="patterns.precedence"><span>[patterns<wbr>.precedence]</span></a>
</div>

<h3 id="与其他无定界模式的优先级"><a class="header" href="#与其他无定界模式的优先级">与其他无定界模式的优先级</a></h3>
<p>正如本章其他地方所示，有几种类型的模式在 语法格式 上是无定界的，包括标识符模式、引用模式和或模式。
或模式始终具有最低优先级。
这允许我们为将来可能出现的类型注记（type ascription）特性预留 语法格式 空间，并减少歧义。
例如， <code>x @ A(..) | B(..)</code> 将导致错误，即 <code>x</code> 未在所有模式中绑定。
<code>&amp;A(x) | B(x)</code> 将导致不同子模式中 <code>x</code> 之间的类型不匹配。</p>
<hr>
<ol class="footnote-definition">
<li id="footnote-obsolete-range-edition">
<p><a href="patterns.html#grammar-ObsoleteRangePattern">ObsoleteRangePattern</a>  语法格式 在 2021 版次中已被移除。 <a href="#fr-obsolete-range-edition-1">↩</a></p>
</li>
</ol>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="expressions/underscore-expr.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                            </a>

                            <a rel="next prefetch" href="type-system.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="expressions/underscore-expr.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                    </a>

                    <a rel="next prefetch" href="type-system.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                    </a>
            </nav>

        </div>

        <template id=fa-eye><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM432 256c0 79.5-64.5 144-144 144s-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144zM288 192c0 35.3-28.7 64-64 64c-11.5 0-22.3-3-31.6-8.4c-.2 2.8-.4 5.5-.4 8.4c0 53 43 96 96 96s96-43 96-96s-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6z"/></svg></span></template>
        <template id=fa-eye-slash><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c5.2-11.8 8-24.8 8-38.5c0-53-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zm223.1 298L373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5z"/></svg></span></template>
        <template id=fa-copy><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M502.6 70.63l-61.25-61.25C435.4 3.371 427.2 0 418.7 0H255.1c-35.35 0-64 28.66-64 64l.0195 256C192 355.4 220.7 384 256 384h192c35.2 0 64-28.8 64-64V93.25C512 84.77 508.6 76.63 502.6 70.63zM464 320c0 8.836-7.164 16-16 16H255.1c-8.838 0-16-7.164-16-16L239.1 64.13c0-8.836 7.164-16 16-16h128L384 96c0 17.67 14.33 32 32 32h47.1V320zM272 448c0 8.836-7.164 16-16 16H63.1c-8.838 0-16-7.164-16-16L47.98 192.1c0-8.836 7.164-16 16-16H160V128H63.99c-35.35 0-64 28.65-64 64l.0098 256C.002 483.3 28.66 512 64 512h192c35.2 0 64-28.8 64-64v-32h-47.1L272 448z"/></svg></span></template>
        <template id=fa-play><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg></span></template>
        <template id=fa-clock-rotate-left><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"/></svg></span></template>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr-ef4e11c1.min.js"></script>
        <script src="mark-09e88c2c.min.js"></script>
        <script src="searcher-c2a407aa.js"></script>

        <script src="clipboard-1626706a.min.js"></script>
        <script src="highlight-abc7f01d.js"></script>
        <script src="book-a0b12cfe.js"></script>

        <!-- Custom JS scripts -->
        <script src="theme/reference-da60281b.js"></script>


        <script>
            document.addEventListener('DOMContentLoaded', function() {
                const fragmentMap =
                    {"#rest-patterns":"patterns.html#rest-pattern"}
                ;
                const target = fragmentMap[window.location.hash];
                if (target) {
                    let url = new URL(target, window.location.href);
                    window.location.replace(url.href);
                }
            });
        </script>

    </div>
    </body>
</html>
